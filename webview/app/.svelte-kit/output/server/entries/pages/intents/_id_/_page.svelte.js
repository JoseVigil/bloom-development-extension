import{n as m,o,t as u,g as r,m as f,u as x,v as h}from"../../../../chunks/svelte.js";import"clsx";import"@sveltejs/kit/internal";import"../../../../chunks/exports.js";import"../../../../chunks/utils.js";import"@sveltejs/kit/internal/server";import"../../../../chunks/state.svelte.js";import{i as g}from"../../../../chunks/intents.js";/* empty css                                                       *//* empty css                                                             */import{L as y,A as _,S as k,a as S}from"../../../../chunks/lucide.js";const j=()=>{const l=m("__svelte__");return{page:{subscribe:l.page.subscribe},navigating:{subscribe:l.navigating.subscribe},updated:l.updated}},q={subscribe(l){return j().page.subscribe(l)}};function z(l,p){l.component(e=>{let a=p.briefing;e.push('<div class="briefing-editor svelte-1gaddwf"><div class="field field-large svelte-1gaddwf"><label for="problem" class="svelte-1gaddwf">Problem to Solve *</label> <textarea id="problem" placeholder="Describe the problem in detail..." rows="8" required class="svelte-1gaddwf">');const t=o(a.problem);t&&e.push(`${t}`),e.push(`</textarea></div> <div class="field svelte-1gaddwf"><label for="output" class="svelte-1gaddwf">Expected Output *</label> <input id="output" type="text"${u("value",a.expectedOutput)} placeholder="What should be produced?" required class="svelte-1gaddwf"/></div> <div class="field svelte-1gaddwf"><label for="current" class="svelte-1gaddwf">Current Behavior</label> <input id="current" type="text"${u("value",a.currentBehavior)} placeholder="How does it work now?" class="svelte-1gaddwf"/></div> <div class="field svelte-1gaddwf"><label for="desired" class="svelte-1gaddwf">Desired Behavior *</label> <input id="desired" type="text"${u("value",a.desiredBehavior)} placeholder="How should it work?" required class="svelte-1gaddwf"/></div> <div class="field svelte-1gaddwf"><label for="considerations" class="svelte-1gaddwf">Additional Considerations</label> <textarea id="considerations" placeholder="Any other important details..." rows="4" class="svelte-1gaddwf">`);const i=o(a.considerations);i&&e.push(`${i}`),e.push("</textarea></div></div>"),r(p,{briefing:a})})}function B(l,p){l.component(e=>{let a=p.content,t=0,i=!1,n=null;function b(d){return Math.ceil(d.length/4)}function c(){i=!0,n=null;try{t=b(a)}catch{n="Failed to estimate",t=Math.floor(a.length/4)}finally{i=!1}}a&&c(),e.push('<div class="token-estimator svelte-jxelsv"><h3 class="svelte-jxelsv">Token Estimator</h3> <div class="estimate-card svelte-jxelsv">'),i?(e.push("<!--[-->"),e.push('<div class="loading svelte-jxelsv">'),y(e,{class:"spin",size:24}),e.push("<!----></div>")):(e.push("<!--[!-->"),e.push(`<div class="token-count svelte-jxelsv">${o(t.toLocaleString())}</div> <div class="token-label svelte-jxelsv">estimated tokens</div>`)),e.push("<!--]--></div> "),n?(e.push("<!--[-->"),e.push(`<div class="error svelte-jxelsv">${o(n)}</div>`)):e.push("<!--[!-->"),e.push('<!--]--> <div class="quota-warning svelte-jxelsv"><p class="svelte-jxelsv">⚠️ Check account quotas before executing</p></div></div>'),r(p,{content:a})})}function H(l,p){l.component(e=>{var a;let t,i,n="briefing";function b(){return t?i==="briefing"?t.briefing.problem.length>0:i==="questions"?t.questions.filter(v=>v.answer.length>0).length>=3:!0:!1}f(a??={},"$page",q).params.id,t=f(a??={},"$intentsStore",g).current,i=f(a??={},"$intentsStore",g).wizardState;let c=!0,d;function w(s){s.push('<div class="intent-editor svelte-wpa808"><header class="editor-header svelte-wpa808"><div class="header-left svelte-wpa808"><button class="back-btn svelte-wpa808" aria-label="Back to intents">'),_(s,{size:20}),s.push("<!----></button> "),t?(s.push("<!--[-->"),s.push(`<input type="text"${u("value",t.title)} class="title-input svelte-wpa808" placeholder="Intent title"/>`)):s.push("<!--[!-->"),s.push('<!--]--></div> <div class="header-right svelte-wpa808"><button class="btn-secondary svelte-wpa808" aria-label="Save draft">'),k(s,{size:16}),s.push(`<!----> Save Draft</button> <button${u("disabled",!b(),!0)} class="btn-primary svelte-wpa808" aria-label="Run execution">`),S(s,{size:16}),s.push(`<!----> ${o("Run Execution")}</button></div></header> `),t?(s.push("<!--[-->"),s.push(`<div class="editor-meta svelte-wpa808"><span>Profile: ${o(t.profile)}</span> <span>•</span> <span>Project: ${o(t.project||"None")}</span> `),t.derivedFrom?(s.push("<!--[-->"),s.push(`<span>•</span> <span>Derived from: ${o(t.derivedFrom)}</span>`)):s.push("<!--[!-->"),s.push(`<!--]--></div> <div class="editor-body svelte-wpa808"><div class="editor-main svelte-wpa808"><div class="tabs svelte-wpa808"><button${h("tab svelte-wpa808",void 0,{active:n==="briefing"})}${u("disabled",i!=="briefing"&&i!=="questions"&&i!=="refinement",!0)}>Briefing</button> <button${h("tab svelte-wpa808",void 0,{active:n==="questions"})}${u("disabled",i==="briefing",!0)}>Questions `),t.questions.some(v=>v.answer)?(s.push("<!--[-->"),s.push(`<span class="tab-badge svelte-wpa808">${o(t.questions.filter(v=>v.answer).length)}/5</span>`)):s.push("<!--[!-->"),s.push(`<!--]--></button> <button${h("tab svelte-wpa808",void 0,{active:n==="refinement"})}${u("disabled",i!=="refinement",!0)}>Refinement `),t.turns&&t.turns.length>0?(s.push("<!--[-->"),s.push(`<span class="tab-badge svelte-wpa808">${o(t.turns.length)}</span>`)):s.push("<!--[!-->"),s.push('<!--]--></button></div> <div class="tab-content svelte-wpa808">'),s.push("<!--[-->"),z(s,{get briefing(){return t.briefing},set briefing(v){t.briefing=v,c=!1}}),s.push("<!----> "),b()?(s.push("<!--[-->"),s.push('<div class="step-actions svelte-wpa808"><button class="btn-primary svelte-wpa808">Next: Questions</button></div>')):s.push("<!--[!-->"),s.push("<!--]-->"),s.push('<!--]--></div></div> <aside class="editor-sidebar svelte-wpa808">'),B(s,{content:JSON.stringify(t.briefing)}),s.push('<!----> <div class="sidebar-section svelte-wpa808"><h3 class="svelte-wpa808">Actions</h3> <button class="btn-success svelte-wpa808">Accept &amp; Finalize</button></div></aside></div>')):s.push("<!--[!-->"),s.push("<!--]--></div>")}do c=!0,d=e.copy(),w(d);while(!c);e.subsume(d),a&&x(a)})}export{H as default};
