import{Z as ra,d as oa,H as Za,G as Da,U as Ja,e as Ka,M as Xa,X as Qa}from"../chunks/NGysjSll.js";import{z as Va,p as Wa,B as Ya,C as ia,D as $a,i as ae,n as ee,o as la,I as d,d as i,g as se,E as ne,G as w,H as z,F as A,t as n,J as l,h as e,r as s,N as B,j as t,s as G,L as te,R as va,S as re,K as da}from"../chunks/OFsEVZk6.js";import{p as oe}from"../chunks/D0JV5-f6.js";import{g}from"../chunks/DiuWRKqr.js";import{o as T,r as ie}from"../chunks/Cd8NkkBm.js";import{S as le}from"../chunks/BGyUxHj7.js";const ve=Va("dark");typeof window<"u"&&ve.subscribe(m=>{document.documentElement.classList.toggle("dark",m==="dark"),document.documentElement.classList.toggle("light",m==="light")});var de=l('<div class="loading-screen svelte-12qhfyh"><div class="spinner svelte-12qhfyh"></div> <p class="svelte-12qhfyh">Loading Bloom Nucleus...</p></div>'),ce=l("<span>Home</span>"),he=l("<span>Intents</span>"),fe=l("<span>Nucleus</span>"),pe=l("<span>Projects</span>"),ue=l("<span>Profiles</span>"),_e=l("<span>Account</span>"),ge=l('<div class="right-content svelte-12qhfyh"><!></div>'),me=l('<header class="header svelte-12qhfyh"><div class="header-left svelte-12qhfyh"><button class="icon-btn svelte-12qhfyh" aria-label="Toggle sidebar"><!></button> <h1 class="title svelte-12qhfyh">BTIP Studio</h1></div> <div class="header-center"><!></div> <div class="header-right svelte-12qhfyh"><button class="action-btn svelte-12qhfyh" aria-label="Create Nucleus"><!> <span>Crear Nucleus</span></button> <button class="action-btn svelte-12qhfyh" aria-label="Open Explorer"><!> <span>Explorer</span></button></div></header> <div class="main-container svelte-12qhfyh"><aside role="navigation" aria-label="Main navigation"><nav class="nav svelte-12qhfyh"><a href="/" class="nav-item svelte-12qhfyh" aria-label="Home"><!> <!></a> <a href="/intents" class="nav-item svelte-12qhfyh" aria-label="Intents"><!> <!></a> <a href="/nucleus" class="nav-item svelte-12qhfyh" aria-label="Nucleus"><!> <!></a> <a href="/projects" class="nav-item svelte-12qhfyh" aria-label="Projects"><!> <!></a> <a href="/profiles" class="nav-item svelte-12qhfyh" aria-label="Profiles"><!> <!></a> <a href="/account" class="nav-item svelte-12qhfyh" aria-label="Account"><!> <!></a></nav></aside> <main class="content svelte-12qhfyh" role="main"><!></main> <aside role="region" aria-label="Side panel"><button class="collapse-btn svelte-12qhfyh" aria-label="Toggle side panel"> </button> <!></aside></div>',1),be=l('<main class="content-full svelte-12qhfyh" role="main"><!></main>'),ye=l('<div class="btip-layout svelte-12qhfyh"><!></div>');function xe(m,b){Wa(b,!1);const S=()=>A(T,"$onboardingStore",P),ca=()=>A(oe,"$page",P),k=()=>A(ie,"$requiresOnboarding",P),[P,ha]=ne(),F=z();let v=z(!1),f=z(!1),p=z(!0),U=!1;Ya(async()=>{U=typeof window<"u"&&!!window.api,document.documentElement.classList.add("dark"),await T.init(),w(p,!1),Z(),U&&window.api?.on&&(window.api.on("app:initialized",o=>{console.log("ðŸ“¨ App initialized:",o),o.needsOnboarding&&T.reset()}),window.api.on("show-onboarding",()=>{console.log("ðŸ“¨ Show onboarding event received"),g("/onboarding")}),window.api.on("onboarding:completed",()=>{console.log("âœ… Onboarding completed event received"),g("/home")}))});function Z(){const o=ca().url.pathname;if(!n(p)){if(k()&&o!=="/onboarding"){console.log("ðŸ”„ Redirecting to onboarding..."),g("/onboarding");return}if(!k()&&o==="/onboarding"){console.log("âœ… Onboarding complete, redirecting to home..."),g("/home");return}if(!k()&&o==="/"){g("/home");return}}}function fa(){w(v,!n(v))}function pa(){w(f,!n(f))}ia(()=>S(),()=>{w(F,S().step!=="welcome"&&S().completed)}),ia(()=>n(p),()=>{n(p)||Z()}),$a(),ae();var D=ee(),ua=la(D);{var _a=o=>{var u=de();i(o,u)},ga=o=>{var u=ye(),ma=e(u);{var ba=c=>{var h=me(),_=la(h),x=e(_),E=e(x),qa=e(E);{var wa=a=>{Xa(a,{size:20})},za=a=>{Qa(a,{size:20})};d(qa,a=>{n(v)?a(wa):a(za,!1)})}s(E),B(2),s(x);var O=t(x,2),Sa=e(O);le(Sa,{mode:"badge"}),s(O);var J=t(O,2),C=e(J),ka=e(C);ra(ka,{size:16}),B(2),s(C);var K=t(C,2),Pa=e(K);oa(Pa,{size:16}),B(2),s(K),s(J),s(_);var X=t(_,2),y=e(X);let Q;var V=e(y),N=e(V),W=e(N);Za(W,{size:18,"aria-hidden":"true"});var xa=t(W,2);{var Ea=a=>{var r=ce();i(a,r)};d(xa,a=>{n(v)||a(Ea)})}s(N);var H=t(N,2),Y=e(H);oa(Y,{size:18,"aria-hidden":"true"});var Oa=t(Y,2);{var Ca=a=>{var r=he();i(a,r)};d(Oa,a=>{n(v)||a(Ca)})}s(H);var L=t(H,2),$=e(L);ra($,{size:18,"aria-hidden":"true"});var Na=t($,2);{var Ha=a=>{var r=fe();i(a,r)};d(Na,a=>{n(v)||a(Ha)})}s(L);var j=t(L,2),aa=e(j);Da(aa,{size:18,"aria-hidden":"true"});var La=t(aa,2);{var ja=a=>{var r=pe();i(a,r)};d(La,a=>{n(v)||a(ja)})}s(j);var I=t(j,2),ea=e(I);Ja(ea,{size:18,"aria-hidden":"true"});var Ia=t(ea,2);{var Ma=a=>{var r=ue();i(a,r)};d(Ia,a=>{n(v)||a(Ma)})}s(I);var sa=t(I,2),na=e(sa);Ka(na,{size:18,"aria-hidden":"true"});var Ra=t(na,2);{var Aa=a=>{var r=_e();i(a,r)};d(Ra,a=>{n(v)||a(Aa)})}s(sa),s(V),s(y);var M=t(y,2),Ba=e(M);G(Ba,b,"default",{}),s(M);var R=t(M,2);let ta;var q=e(R),Ga=e(q,!0);s(q);var Ta=t(q,2);{var Fa=a=>{var r=ge(),Ua=e(r);G(Ua,b,"right-pane",{}),s(r),i(a,r)};d(Ta,a=>{n(f)||a(Fa)})}s(R),s(X),te(()=>{Q=va(y,1,"sidebar svelte-12qhfyh",null,Q,{collapsed:n(v)}),ta=va(R,1,"right-pane svelte-12qhfyh",null,ta,{collapsed:n(f)}),re(Ga,n(f)?"â—€":"â–¶")}),da("click",E,fa),da("click",q,pa),i(c,h)},ya=c=>{var h=be(),_=e(h);G(_,b,"default",{}),s(h),i(c,h)};d(ma,c=>{n(F)?c(ba):c(ya,!1)})}s(u),i(o,u)};d(ua,o=>{n(p)?o(_a):o(ga,!1)})}i(m,D),se(),ha()}export{xe as component};
