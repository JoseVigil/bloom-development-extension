import{P as Ra,L as Ua,C as qa}from"../chunks/NGysjSll.js";import{p as Wa,B as Xa,C as Ya,D as Za,i as ae,J as u,o as ta,L as m,h as t,j as r,I as y,K as p,M as V,t as a,d,g as ee,E as te,F as se,H as k,G as _,N as ya,r as s,O as L,P as M,n as ha,u as i,Q as Ca,c as le,R as Ia,S as b,T as ka}from"../chunks/OFsEVZk6.js";import{g as Da}from"../chunks/DiuWRKqr.js";import{i as sa}from"../chunks/Ch2DEP4i.js";import{w as re}from"../chunks/pRc2cNOE.js";var oe=u('<div class="loading svelte-630aj4"><!> <p>Loading intents...</p></div>'),ve=u('<div class="empty svelte-630aj4"><p>No intents found</p> <button class="btn-primary svelte-630aj4">Create your first Intent</button></div>'),ie=u('<span class="derived svelte-630aj4"> </span>'),ne=u('<p class="intent-summary svelte-630aj4"> </p>'),ce=u('<div class="intent-card svelte-630aj4" role="button" tabindex="0"><div class="card-content svelte-630aj4"><div class="card-header svelte-630aj4"><div class="badges svelte-630aj4"><span> </span> <span> </span> <!></div></div> <h3 class="intent-title svelte-630aj4"> </h3> <div class="intent-meta svelte-630aj4"><span> </span> <span>•</span> <span> </span></div> <!></div> <!></div>'),pe=u('<div class="modal-overlay svelte-630aj4"><div class="modal svelte-630aj4"><h3 class="svelte-630aj4">Create Intent DOC</h3> <p class="svelte-630aj4">Creating new intent...</p> <button class="btn-primary svelte-630aj4">Continue</button></div></div>'),de=u('<div class="modal-overlay svelte-630aj4"><div class="modal svelte-630aj4"><h3 class="svelte-630aj4">Import Intent from DEV</h3> <p class="svelte-630aj4">Select a DEV intent to derive documentation...</p> <button class="btn-secondary svelte-630aj4">Cancel</button></div></div>'),_e=u('<div class="intents-page svelte-630aj4"><header class="page-header svelte-630aj4"><div class="header-top svelte-630aj4"><h2 class="svelte-630aj4">Intents</h2> <div class="actions svelte-630aj4"><button class="btn-secondary svelte-630aj4" aria-label="Import Intent from DEV">Import from DEV</button> <button class="btn-primary svelte-630aj4" aria-label="Create Intent DOC"><!> Create Intent DOC</button></div></div> <div class="filters svelte-630aj4"><select class="filter-select svelte-630aj4" aria-label="Filter by type"><option>All Types</option><option>DEV</option><option>DOC</option></select> <select class="filter-select svelte-630aj4" aria-label="Filter by status"><option>All Status</option><option>Draft</option><option>Completed</option><option>In Progress</option></select> <select class="filter-select svelte-630aj4" aria-label="Filter by profile"><option>All Profiles</option><option>Main</option></select> <select class="filter-select svelte-630aj4" aria-label="Filter by project"><option>All Projects</option></select></div></header> <div class="intents-list svelte-630aj4"><!></div></div> <!> <!>',1);function ge(xa,A){Wa(A,!1);const la=()=>se(sa,"$intentsStore",wa),[wa,Sa]=te(),D=k();let ra=k(!0),l=k({type:"all",status:"all",profile:"all",project:"all"}),x=k(!1),w=k(!1);Xa(async()=>{await sa.load(),_(ra,!1),re.onUpdate(()=>{sa.load()})});function oa(e){Da(`/intents/${e}`)}function va(){_(x,!0)}function Ea(){_(w,!0)}Ya(()=>(la(),a(l)),()=>{_(D,la().list.filter(e=>!(a(l).type!=="all"&&e.type!==a(l).type||a(l).status!=="all"&&e.status!==a(l).status||a(l).profile!=="all"&&e.profile!==a(l).profile||a(l).project!=="all"&&e.project!==a(l).project)))}),Za(),ae();var ia=_e(),z=ta(ia),N=t(z),T=t(N),na=r(t(T),2),ca=t(na),$=r(ca,2),Fa=t($);Ra(Fa,{size:18}),ya(),s($),s(na),s(T);var pa=r(T,2),S=t(pa);m(()=>{a(l),L(()=>{})});var B=t(S);B.value=B.__value="all";var G=r(B);G.value=G.__value="DEV";var da=r(G);da.value=da.__value="DOC",s(S);var E=r(S,2);m(()=>{a(l),L(()=>{})});var H=t(E);H.value=H.__value="all";var J=r(H);J.value=J.__value="draft";var K=r(J);K.value=K.__value="completed";var _a=r(K);_a.value=_a.__value="in-progress",s(E);var F=r(E,2);m(()=>{a(l),L(()=>{})});var Q=t(F);Q.value=Q.__value="all";var ua=r(Q);ua.value=ua.__value="main",s(F);var R=r(F,2);m(()=>{a(l),L(()=>{})});var fa=t(R);fa.value=fa.__value="all",s(R),s(pa),s(N);var ma=r(N,2),Pa=t(ma);{var Oa=e=>{var v=oe(),n=t(v);Ua(n,{class:"spin",size:32}),ya(2),s(v),d(e,v)},Va=e=>{var v=ha(),n=ta(v);{var h=j=>{var g=ve(),U=r(t(g),2);s(g),p("click",U,va),d(j,g)},C=j=>{var g=ha(),U=ta(g);le(U,1,()=>a(D),q=>q.id,(q,o)=>{var I=ce(),W=t(I),X=t(W),ja=t(X),P=t(ja),za=t(P,!0);s(P);var O=r(P,2),Na=t(O,!0);s(O);var Ta=r(O,2);{var $a=c=>{var f=ie(),ea=t(f);s(f),m(()=>b(ea,`← ${a(o),i(()=>a(o).derivedFrom)??""}`)),d(c,f)};y(Ta,c=>{a(o),i(()=>a(o).derivedFrom)&&c($a)})}s(ja),s(X);var Y=r(X,2),Ba=t(Y,!0);s(Y);var Z=r(Y,2),aa=t(Z),Ga=t(aa,!0);s(aa);var ga=r(aa,4),Ha=t(ga,!0);s(ga),s(Z);var Ja=r(Z,2);{var Ka=c=>{var f=ne(),ea=t(f,!0);s(f),m(()=>b(ea,(a(o),i(()=>a(o).briefingSummary)))),d(c,f)};y(Ja,c=>{a(o),i(()=>a(o).briefingSummary)&&c(Ka)})}s(W);var Qa=r(W,2);qa(Qa,{class:"chevron",size:20}),s(I),m(c=>{Ia(P,1,`badge badge-${c??""}`,"svelte-630aj4"),b(za,(a(o),i(()=>a(o).type))),Ia(O,1,`badge badge-${a(o),i(()=>a(o).status)??""}`,"svelte-630aj4"),b(Na,(a(o),i(()=>a(o).status))),b(Ba,(a(o),i(()=>a(o).title))),b(Ga,(a(o),i(()=>a(o).project||"No project"))),b(Ha,(a(o),i(()=>a(o).profile)))},[()=>(a(o),i(()=>a(o).type.toLowerCase()))]),p("click",I,()=>oa(a(o).id)),p("keydown",I,c=>c.key==="Enter"&&oa(a(o).id)),d(q,I)}),d(j,g)};y(n,j=>{a(D),i(()=>a(D).length===0)?j(h):j(C,!1)},!0)}d(e,v)};y(Pa,e=>{a(ra)?e(Oa):e(Va,!1)})}s(ma),s(z);var ba=r(z,2);{var La=e=>{var v=pe(),n=t(v),h=r(t(n),4);s(n),s(v),p("click",h,()=>{_(x,!1),Da("/intents/new")}),p("click",n,Ca(function(C){ka.call(this,A,C)})),p("click",v,()=>_(x,!1)),d(e,v)};y(ba,e=>{a(x)&&e(La)})}var Ma=r(ba,2);{var Aa=e=>{var v=de(),n=t(v),h=r(t(n),4);s(n),s(v),p("click",h,()=>_(w,!1)),p("click",n,Ca(function(C){ka.call(this,A,C)})),p("click",v,()=>_(w,!1)),d(e,v)};y(Ma,e=>{a(w)&&e(Aa)})}p("click",ca,Ea),p("click",$,va),V(S,()=>a(l).type,e=>M(l,a(l).type=e)),V(E,()=>a(l).status,e=>M(l,a(l).status=e)),V(F,()=>a(l).profile,e=>M(l,a(l).profile=e)),V(R,()=>a(l).project,e=>M(l,a(l).project=e)),d(xa,ia),ee(),Sa()}export{ge as component};
