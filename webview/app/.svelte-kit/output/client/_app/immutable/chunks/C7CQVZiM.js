import"./NGysjSll.js";import{z as Z,p as X,i as Y,J as p,I as B,L as P,Y as q,t as e,K as F,d as u,g as D,j as k,H as d,S as G,G as a,h,X as Q,r as i,B as R,c as L,m as O,o as $,O as ee,M as ae}from"./OFsEVZk6.js";import{b as te,c as U,d as re,e as le,h as se}from"./PsGZJ0l5.js";const oe=Z(null);var ie=p('<p class="message svelte-1trtali"> </p>'),ne=p('<div class="form svelte-1trtali"><h3 class="svelte-1trtali">Token de Gemini</h3> <input type="text" placeholder="Ingresa tu token de Gemini" class="svelte-1trtali"/> <button class="svelte-1trtali"> </button> <!></div>');function xe(E,T){X(T,!1);let s=d(""),r=d(!1),o=d("");async function _(){if(e(s).trim()){a(r,!0),a(o,"");try{await te({profile:"default",key:e(s).trim(),priority:0}),oe.set(e(s)),a(o,"Token guardado correctamente")}catch{a(o,"Error al guardar el token")}finally{a(r,!1)}}}Y();var c=ne(),f=k(h(c),2);Q(f);var m=k(f,2),w=h(m,!0);i(m);var A=k(m,2);{var j=v=>{var y=ie(),x=h(y,!0);i(y),P(()=>G(x,e(o))),u(v,y)};B(A,v=>{e(o)&&v(j)})}i(c),P(v=>{f.disabled=e(r),m.disabled=v,G(w,e(r)?"Guardando...":"Guardar")},[()=>e(r)||!e(s).trim()]),q(f,()=>e(s),v=>a(s,v)),F("click",m,_),u(E,c),D()}var ce=p("<p>Cargando...</p>"),ve=p('<li class="svelte-15kawef"> </li>'),ue=p('<ul class="svelte-15kawef"></ul>'),de=p('<div class="panel svelte-15kawef"><h3 class="svelte-15kawef">Nucleus</h3> <!> <div class="create svelte-15kawef"><input type="text" placeholder="Nombre del nuevo nucleus" class="svelte-15kawef"/> <button class="svelte-15kawef"> </button></div></div>');function Pe(E,T){X(T,!1);let s=d([]),r=d(!1),o=d(""),_=d(!1);async function c(){a(r,!0);try{const t=await U();a(s,t.nuclei||[])}catch(t){console.error("Error loading nuclei:",t)}finally{a(r,!1)}}async function f(){if(e(o).trim()){a(_,!0);try{await re({org:e(o)}),a(o,""),await c()}catch(t){console.error("Error creating nucleus:",t)}finally{a(_,!1)}}}R(c),Y();var m=de(),w=k(h(m),2);{var A=t=>{var b=ce();u(t,b)},j=t=>{var b=ue();L(b,5,()=>e(s),O,(K,H)=>{var I=ve(),M=h(I,!0);i(I),P(()=>G(M,e(H).name)),u(K,I)}),i(b),u(t,b)};B(w,t=>{e(r)?t(A):t(j,!1)})}var v=k(w,2),y=h(v);Q(y);var x=k(y,2),l=h(x,!0);i(x),i(v),i(m),P(t=>{y.disabled=e(_),x.disabled=t,G(l,e(_)?"Creando...":"Crear")},[()=>e(_)||!e(o).trim()]),q(y,()=>e(o),t=>a(o,t)),F("click",x,f),u(E,m),D()}var pe=p("<p>Primero crea un Nucleus</p>"),fe=p("<option> </option>"),he=p("<p>Cargando...</p>"),_e=p('<li class="svelte-ubspo0"> </li>'),me=p('<ul class="svelte-ubspo0"></ul>'),be=p('<select class="svelte-ubspo0"></select> <!> <div class="create svelte-ubspo0"><input type="text" placeholder="Path del proyecto" class="svelte-ubspo0"/> <button class="svelte-ubspo0"> </button></div>',1),ge=p('<div class="panel svelte-ubspo0"><h3 class="svelte-ubspo0">Projects</h3> <!></div>');function je(E,T){X(T,!1);let s=d([]),r=d(""),o=d([]),_=d(!1),c=d(""),f=d(!1);async function m(){try{const l=await U();a(s,l.nuclei||[]),e(s).length>0&&(a(r,e(s)[0].path||e(s)[0].id),await w())}catch(l){console.error("Error loading nuclei:",l)}}async function w(){if(e(r)){a(_,!0);try{const l=await le(e(r));a(o,l.projects||[])}catch(l){console.error("Error loading projects:",l)}finally{a(_,!1)}}}async function A(){if(!(!e(c).trim()||!e(r))){a(f,!0);try{await se({project_path:e(c),nucleus_path:e(r)}),a(c,""),await w()}catch(l){console.error("Error creating project:",l)}finally{a(f,!1)}}}R(m),Y();var j=ge(),v=k(h(j),2);{var y=l=>{var t=pe();u(l,t)},x=l=>{var t=be(),b=$(t);P(()=>{e(r),ee(()=>{e(s)})}),L(b,5,()=>e(s),O,(n,g)=>{var N=fe(),J=h(N,!0);i(N);var C={};P(()=>{G(J,e(g).name),C!==(C=e(g).path||e(g).id)&&(N.value=(N.__value=e(g).path||e(g).id)??"")}),u(n,N)}),i(b);var K=k(b,2);{var H=n=>{var g=he();u(n,g)},I=n=>{var g=me();L(g,5,()=>e(o),O,(N,J)=>{var C=_e(),W=h(C,!0);i(C),P(()=>G(W,e(J).name)),u(N,C)}),i(g),u(n,g)};B(K,n=>{e(_)?n(H):n(I,!1)})}var M=k(K,2),S=h(M);Q(S);var z=k(S,2),V=h(z,!0);i(z),i(M),P(n=>{S.disabled=e(f),z.disabled=n,G(V,e(f)?"Agregando...":"Agregar")},[()=>e(f)||!e(c).trim()]),ae(b,()=>e(r),n=>a(r,n)),F("change",b,w),q(S,()=>e(c),n=>a(c,n)),F("click",z,A),u(l,t)};B(v,l=>{e(s).length===0?l(y):l(x,!1)})}i(j),u(E,j),D()}export{xe as G,Pe as N,je as P};
