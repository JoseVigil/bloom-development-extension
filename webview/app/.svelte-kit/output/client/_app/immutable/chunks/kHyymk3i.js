import{f as ue,g as _e,R as ge}from"./NGysjSll.js";import{p as ae,a as W,i as te,J as u,h as t,j as d,Z as X,r as a,X as J,Y as h,d as p,g as se,I as M,k as me,u as o,L as T,t as e,H as $,G as q,K as N,n as he,o as we,c as ee,R as ke,S as x,m as xe}from"./OFsEVZk6.js";import{i as ze}from"./Ch2DEP4i.js";var ye=u('<div class="briefing-editor svelte-1gaddwf"><div class="field field-large svelte-1gaddwf"><label for="problem" class="svelte-1gaddwf">Problem to Solve *</label> <textarea id="problem" placeholder="Describe the problem in detail..." rows="8" required class="svelte-1gaddwf"></textarea></div> <div class="field svelte-1gaddwf"><label for="output" class="svelte-1gaddwf">Expected Output *</label> <input id="output" type="text" placeholder="What should be produced?" required class="svelte-1gaddwf"/></div> <div class="field svelte-1gaddwf"><label for="current" class="svelte-1gaddwf">Current Behavior</label> <input id="current" type="text" placeholder="How does it work now?" class="svelte-1gaddwf"/></div> <div class="field svelte-1gaddwf"><label for="desired" class="svelte-1gaddwf">Desired Behavior *</label> <input id="desired" type="text" placeholder="How should it work?" required class="svelte-1gaddwf"/></div> <div class="field svelte-1gaddwf"><label for="considerations" class="svelte-1gaddwf">Additional Considerations</label> <textarea id="considerations" placeholder="Any other important details..." rows="4" class="svelte-1gaddwf"></textarea></div></div>');function Ce(C,_){ae(_,!1);let s=W(_,"briefing",12);te();var w=ye(),v=t(w),c=d(t(v),2);X(c),a(v);var g=d(v,2),z=d(t(g),2);J(z),a(g);var k=d(g,2),m=d(t(k),2);J(m),a(k);var f=d(k,2),y=d(t(f),2);J(y),a(f);var S=d(f,2),B=d(t(S),2);X(B),a(S),a(w),h(c,()=>s().problem,l=>s(s().problem=l,!0)),h(z,()=>s().expectedOutput,l=>s(s().expectedOutput=l,!0)),h(m,()=>s().currentBehavior,l=>s(s().currentBehavior=l,!0)),h(y,()=>s().desiredBehavior,l=>s(s().desiredBehavior=l,!0)),h(B,()=>s().considerations,l=>s(s().considerations=l,!0)),p(C,w),se()}var Se=u('<div class="empty svelte-12zknib"><p>No conversation yet. Start by asking a question or providing context.</p></div>'),Be=u('<span class="tokens"> </span>'),Ee=u('<div class="artifact svelte-12zknib"><span> </span></div>'),Ie=u('<div class="artifacts svelte-12zknib"></div>'),Re=u('<div><div class="message-header svelte-12zknib"><span class="actor svelte-12zknib"> </span> <span class="timestamp"> </span> <!></div> <div class="message-content svelte-12zknib"> </div> <!> <div class="message-actions svelte-12zknib"><button class="action-btn svelte-12zknib" title="Revert turn"><!></button></div></div>'),De=u('<div class="chat-btip svelte-12zknib"><div class="chat-messages svelte-12zknib"><!></div> <div class="chat-input svelte-12zknib"><button class="attach-btn svelte-12zknib" title="Attach files"><!></button> <textarea placeholder="Type your message... (Enter to send, Shift+Enter for new line)" rows="3" class="svelte-12zknib"></textarea> <button class="send-btn svelte-12zknib"><!></button></div></div>');function Oe(C,_){ae(_,!1);let s=W(_,"turns",24,()=>[]),w=W(_,"intentId",8),v=$(""),c=$(!1);async function g(){if(!(!e(v).trim()||e(c))){q(c,!0);try{await ze.addTurn(w(),{actor:"USER",content:e(v),timestamp:new Date().toISOString()}),q(v,"")}catch(i){console.error("Failed to send message:",i)}finally{q(c,!1)}}}function z(i){console.log("Revert turn:",i)}function k(i){i.key==="Enter"&&!i.shiftKey&&(i.preventDefault(),g())}te();var m=De(),f=t(m),y=t(f);{var S=i=>{var R=Se();p(i,R)},B=i=>{var R=he(),de=we(R);ee(de,1,s,H=>H.id,(H,r)=>{var D=Re();let Y;var K=t(D),P=t(K),le=t(P,!0);a(P);var L=d(P,2),ve=t(L,!0);a(L);var oe=d(L,2);{var ne=n=>{var b=Be(),F=t(b);a(b),T(()=>x(F,`${e(r),o(()=>e(r).tokens)??""} tokens`)),p(n,b)};M(oe,n=>{e(r),o(()=>e(r).tokens)&&n(ne)})}a(K);var U=d(K,2),ce=t(U,!0);a(U);var Z=d(U,2);{var pe=n=>{var b=Ie();ee(b,5,()=>(e(r),o(()=>e(r).artifacts)),xe,(F,A)=>{var G=Ee(),V=t(G),be=t(V);a(V),a(G),T(()=>x(be,`${e(A),o(()=>e(A).type)??""}: ${e(A),o(()=>e(A).name)??""}`)),p(F,G)}),a(b),p(n,b)};M(Z,n=>{e(r),o(()=>e(r).actor==="AI"&&e(r).artifacts)&&n(pe)})}var Q=d(Z,2),j=t(Q),fe=t(j);ge(fe,{size:14}),a(j),a(Q),a(D),T(n=>{Y=ke(D,1,"message svelte-12zknib",null,Y,{user:e(r).actor==="USER",ai:e(r).actor==="AI"}),x(le,(e(r),o(()=>e(r).actor))),x(ve,n),x(ce,(e(r),o(()=>e(r).content)))},[()=>(e(r),o(()=>new Date(e(r).timestamp).toLocaleTimeString()))]),N("click",j,()=>z(e(r).id)),p(H,D)}),p(i,R)};M(y,i=>{me(s()),o(()=>s().length===0)?i(S):i(B,!1)})}a(f);var l=d(f,2),O=t(l),ie=t(O);ue(ie,{size:18}),a(O);var E=d(O,2);X(E);var I=d(E,2),re=t(I);_e(re,{size:18}),a(I),a(l),a(m),T(i=>I.disabled=i,[()=>(e(v),e(c),o(()=>!e(v).trim()||e(c)))]),h(E,()=>e(v),i=>q(v,i)),N("keydown",E,k),N("click",I,g),p(C,m),se()}export{Ce as B,Oe as C};
