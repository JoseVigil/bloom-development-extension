{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Brain CLI - AI-Native Tool Definitions",
  "version": "2.0.0",
  "description": "Complete function calling schema for AI agents to interact with Brain CLI",
  "metadata": {
    "cli_name": "Brain CLI",
    "executable": "brain",
    "mode": "executable",
    "supports_json_output": true,
    "supports_streaming": false,
    "max_parallel_commands": 5
  },
  "tools": [
    {
      "type": "function",
      "function": {
        "name": "brain_chrome_read_log",
        "description": "Read and filter Chrome debug logs for a specific profile.. Execute via: brain chrome read-log",
        "parameters": {
          "type": "object",
          "properties": {
            "profile_id": {
              "type": "string",
              "description": "Chrome profile UUID"
            },
            "_k": {
              "type": "string",
              "description": "Keyword to search for",
              "default": "bloom"
            },
            "_b": {
              "type": "integer",
              "description": "Lines of context before match",
              "default": 5
            },
            "_a": {
              "type": "integer",
              "description": "Lines of context after match",
              "default": 5
            }
          },
          "required": [
            "profile_id"
          ]
        },
        "metadata": {
          "category": "chrome",
          "command": "read-log",
          "full_syntax": "brain [--json] [--verbose] chrome read-log",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_chrome_read_net_log",
        "description": "Analyze Chrome network logs with intelligent filtering.. Execute via: brain chrome read-net-log",
        "parameters": {
          "type": "object",
          "properties": {
            "profile_id": {
              "type": "string",
              "description": "Chrome profile UUID"
            },
            "__filter_ai": {
              "type": "boolean",
              "description": "Filter for AI service requests only",
              "default": false
            },
            "_e": {
              "type": "string",
              "description": "Exclude URL patterns"
            },
            "__include_quic": {
              "type": "boolean",
              "description": "Include QUIC protocol events",
              "default": false
            },
            "__show_headers": {
              "type": "boolean",
              "description": "Show HTTP headers in output",
              "default": false
            }
          },
          "required": [
            "profile_id"
          ]
        },
        "metadata": {
          "category": "chrome",
          "command": "read-net-log",
          "full_syntax": "brain [--json] [--verbose] chrome read-net-log",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_context_generate",
        "description": "Generate the Bloom Context for the project.. Execute via: brain context generate",
        "parameters": {
          "type": "object",
          "properties": {
            "_p": {
              "type": "string",
              "description": "Root path of the project",
              "default": "."
            },
            "_o": {
              "type": "string",
              "description": "Output folder name",
              "default": ".bloom"
            },
            "_s": {
              "type": "string",
              "description": "Force specific strategy"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "context",
          "command": "generate",
          "full_syntax": "brain [--json] [--verbose] context generate",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_extension_install",
        "description": "Install Chrome extension to permanent location.. Execute via: brain extension install",
        "parameters": {
          "type": "object",
          "properties": {
            "_s": {
              "type": "string",
              "description": "Source directory (auto-detects if not provided)"
            },
            "_f": {
              "type": "boolean",
              "description": "Force reinstall even if same version exists",
              "default": false
            }
          },
          "required": []
        },
        "metadata": {
          "category": "extension",
          "command": "install",
          "full_syntax": "brain [--json] [--verbose] extension install",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_extension_update",
        "description": "Update Chrome extension to the latest version.. Execute via: brain extension update",
        "parameters": {
          "type": "object",
          "properties": {
            "_s": {
              "type": "string",
              "description": "Source directory (auto-detects if not provided)"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "extension",
          "command": "update",
          "full_syntax": "brain [--json] [--verbose] extension update",
          "intents": [
            "update_resource"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_extension_verify",
        "description": "Verify that the Chrome extension is correctly installed.. Execute via: brain extension verify",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": []
        },
        "metadata": {
          "category": "extension",
          "command": "verify",
          "full_syntax": "brain [--json] [--verbose] extension verify",
          "intents": [
            "health_check"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_filesystem_compress",
        "description": "Compress files into optimized JSON format for AI consumption.. Execute via: brain filesystem compress",
        "parameters": {
          "type": "object",
          "properties": {
            "paths": {
              "type": "string",
              "description": "Paths to compress (files or directories)"
            },
            "_m": {
              "type": "string",
              "description": "Compression mode: 'codebase' or 'docbase'",
              "default": "codebase"
            },
            "_o": {
              "type": "string",
              "description": "Output directory (default: current directory)"
            },
            "_e": {
              "type": "string",
              "description": "Patterns to exclude (can be used multiple times)",
              "default": "[]"
            },
            "__no_comments": {
              "type": "boolean",
              "description": "Remove comments during compression",
              "default": false
            }
          },
          "required": [
            "paths"
          ]
        },
        "metadata": {
          "category": "filesystem",
          "command": "compress",
          "full_syntax": "brain [--json] [--verbose] filesystem compress",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_filesystem_extract",
        "description": "Extract files from compressed JSON format.. Execute via: brain filesystem extract",
        "parameters": {
          "type": "object",
          "properties": {
            "json_file": {
              "type": "string",
              "description": "Compressed JSON file to extract"
            },
            "_o": {
              "type": "string",
              "description": "Output directory (default: extracted_<mode>)"
            },
            "__verify_hashes/__no_verify_hashes": {
              "type": "boolean",
              "description": "Verify MD5 hashes during extraction",
              "default": true
            }
          },
          "required": [
            "json_file"
          ]
        },
        "metadata": {
          "category": "filesystem",
          "command": "extract",
          "full_syntax": "brain [--json] [--verbose] filesystem extract",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_filesystem_tree",
        "description": "Generate a visual directory tree structure with intelligent exclusions.. Execute via: brain filesystem tree",
        "parameters": {
          "type": "object",
          "properties": {
            "_o": {
              "type": "string",
              "description": "Output file path",
              "default": "tree.txt"
            },
            "__hash": {
              "type": "boolean",
              "description": "Include MD5 hashes",
              "default": false
            },
            "__export_json": {
              "type": "boolean",
              "description": "Export JSON to disk",
              "default": false
            },
            "targets": {
              "type": "string",
              "description": "Specific directories or files to include (supports absolute paths)."
            }
          },
          "required": [
            "targets"
          ]
        },
        "metadata": {
          "category": "filesystem",
          "command": "tree",
          "full_syntax": "brain [--json] [--verbose] filesystem tree",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_gemini_keys_add",
        "description": "Add new Gemini API key with profile.. Execute via: brain gemini keys-add",
        "parameters": {
          "type": "object",
          "properties": {
            "_p_<value": {
              "type": "string",
              "description": "Profile name (e.g., 'Personal Chrome')"
            },
            "_k_<value": {
              "type": "string",
              "description": "Gemini API key"
            },
            "__priority": {
              "type": "integer",
              "description": "Priority: 1=preferred, 0=normal, -1=backup",
              "default": 0
            }
          },
          "required": [
            "_p_<value",
            "_k_<value"
          ]
        },
        "metadata": {
          "category": "gemini",
          "command": "keys-add",
          "full_syntax": "brain [--json] [--verbose] gemini keys-add",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_gemini_keys_delete",
        "description": "Delete a Gemini API key.. Execute via: brain gemini keys-delete",
        "parameters": {
          "type": "object",
          "properties": {
            "profile": {
              "type": "string",
              "description": "Profile name to delete"
            }
          },
          "required": [
            "profile"
          ]
        },
        "metadata": {
          "category": "gemini",
          "command": "keys-delete",
          "full_syntax": "brain [--json] [--verbose] gemini keys-delete",
          "intents": [
            "delete_resource"
          ],
          "is_idempotent": false,
          "is_destructive": true,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_gemini_keys_list",
        "description": "List all Gemini API keys with status.. Execute via: brain gemini keys-list",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": []
        },
        "metadata": {
          "category": "gemini",
          "command": "keys-list",
          "full_syntax": "brain [--json] [--verbose] gemini keys-list",
          "intents": [
            "read_resource"
          ],
          "is_idempotent": true,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_gemini_keys_stats",
        "description": "Show global Gemini keys statistics.. Execute via: brain gemini keys-stats",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": []
        },
        "metadata": {
          "category": "gemini",
          "command": "keys-stats",
          "full_syntax": "brain [--json] [--verbose] gemini keys-stats",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_gemini_keys_validate",
        "description": "Validate a Gemini API key by testing connection.. Execute via: brain gemini keys-validate",
        "parameters": {
          "type": "object",
          "properties": {
            "profile": {
              "type": "string",
              "description": "Profile name to validate"
            }
          },
          "required": [
            "profile"
          ]
        },
        "metadata": {
          "category": "gemini",
          "command": "keys-validate",
          "full_syntax": "brain [--json] [--verbose] gemini keys-validate",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_github_auth_login",
        "description": "Store GitHub authentication token.. Execute via: brain github auth-login",
        "parameters": {
          "type": "object",
          "properties": {
            "_t_<value": {
              "type": "string",
              "description": "GitHub Personal Access Token"
            }
          },
          "required": [
            "_t_<value"
          ]
        },
        "metadata": {
          "category": "github",
          "command": "auth-login",
          "full_syntax": "brain [--json] [--verbose] github auth-login",
          "intents": [
            "authentication"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_github_auth_logout",
        "description": "Remove stored GitHub token.. Execute via: brain github auth-logout",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": []
        },
        "metadata": {
          "category": "github",
          "command": "auth-logout",
          "full_syntax": "brain [--json] [--verbose] github auth-logout",
          "intents": [
            "authentication"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_github_auth_status",
        "description": "Check GitHub authentication status.. Execute via: brain github auth-status",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": []
        },
        "metadata": {
          "category": "github",
          "command": "auth-status",
          "full_syntax": "brain [--json] [--verbose] github auth-status",
          "intents": [
            "health_check",
            "authentication"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "fast"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_github_clone",
        "description": "Clone GitHub repository to local directory.. Execute via: brain github clone",
        "parameters": {
          "type": "object",
          "properties": {
            "repo": {
              "type": "string",
              "description": "Repository (owner/repo or full URL)"
            },
            "_p": {
              "type": "string",
              "description": "Target directory (defaults to repo name in current dir)"
            },
            "__progress/__no_progress": {
              "type": "boolean",
              "description": "Show clone progress",
              "default": true
            }
          },
          "required": [
            "repo"
          ]
        },
        "metadata": {
          "category": "github",
          "command": "clone",
          "full_syntax": "brain [--json] [--verbose] github clone",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_github_orgs_list",
        "description": "List GitHub organizations.. Execute via: brain github orgs-list",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": []
        },
        "metadata": {
          "category": "github",
          "command": "orgs-list",
          "full_syntax": "brain [--json] [--verbose] github orgs-list",
          "intents": [
            "read_resource"
          ],
          "is_idempotent": true,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_github_repos_list",
        "description": "List GitHub repositories.. Execute via: brain github repos-list",
        "parameters": {
          "type": "object",
          "properties": {
            "__org": {
              "type": "string",
              "description": "Organization name"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "github",
          "command": "repos-list",
          "full_syntax": "brain [--json] [--verbose] github repos-list",
          "intents": [
            "read_resource"
          ],
          "is_idempotent": true,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_health_dev_check",
        "description": "Check development environment and service status.. Execute via: brain health dev-check",
        "parameters": {
          "type": "object",
          "properties": {
            "_t": {
              "type": "number",
              "description": "Connection timeout per port check in seconds",
              "default": 2.0
            },
            "__json": {
              "type": "boolean",
              "description": "Output raw JSON",
              "default": false
            },
            "_v": {
              "type": "boolean",
              "description": "Detailed logging of each port check",
              "default": false
            }
          },
          "required": []
        },
        "metadata": {
          "category": "health",
          "command": "dev-check",
          "full_syntax": "brain [--json] [--verbose] health dev-check",
          "intents": [
            "health_check"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_health_full_stack",
        "description": "Verify complete stack health (host, API, extension, Brain, onboarding). Execute via: brain health full-stack",
        "parameters": {
          "type": "object",
          "properties": {
            "_t": {
              "type": "string",
              "description": "Timeout per check in seconds",
              "default": 5
            },
            "__json": {
              "type": "boolean",
              "description": "Output raw JSON",
              "default": false
            },
            "_v": {
              "type": "boolean",
              "description": "Detailed logging",
              "default": false
            }
          },
          "required": []
        },
        "metadata": {
          "category": "health",
          "command": "full-stack",
          "full_syntax": "brain [--json] [--verbose] health full-stack",
          "intents": [
            "health_check"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_health_native_ping",
        "description": "Ping the native host to verify it's alive and responding.. Execute via: brain health native-ping",
        "parameters": {
          "type": "object",
          "properties": {
            "_t": {
              "type": "integer",
              "description": "Timeout in milliseconds for ping response",
              "default": 500
            },
            "_p": {
              "type": "string",
              "description": "Specific TCP port to test (auto-detect if not provided)"
            },
            "__check_ws/__no_check_ws": {
              "type": "boolean",
              "description": "Also verify WebSocket port status",
              "default": true
            }
          },
          "required": []
        },
        "metadata": {
          "category": "health",
          "command": "native-ping",
          "full_syntax": "brain [--json] [--verbose] health native-ping",
          "intents": [
            "health_check"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "fast"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_health_onboarding_status",
        "description": "Check onboarding completion status (GitHub, Gemini, Nucleus, Projects). Execute via: brain health onboarding-status",
        "parameters": {
          "type": "object",
          "properties": {
            "_r": {
              "type": "boolean",
              "description": "Force re-check, ignore cache",
              "default": false
            },
            "__json": {
              "type": "boolean",
              "description": "Output raw JSON",
              "default": false
            },
            "_v": {
              "type": "boolean",
              "description": "Detailed logging of each check",
              "default": false
            }
          },
          "required": []
        },
        "metadata": {
          "category": "health",
          "command": "onboarding-status",
          "full_syntax": "brain [--json] [--verbose] health onboarding-status",
          "intents": [
            "health_check"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "fast"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_health_websocket_status",
        "description": "Verify WebSocket server status on localhost:4124. Execute via: brain health websocket-status",
        "parameters": {
          "type": "object",
          "properties": {
            "_t": {
              "type": "string",
              "description": "Connection timeout in seconds",
              "default": 5
            },
            "__test_sub": {
              "type": "boolean",
              "description": "Test event subscription capability",
              "default": false
            },
            "__json": {
              "type": "boolean",
              "description": "Output raw JSON",
              "default": false
            },
            "_v": {
              "type": "boolean",
              "description": "Detailed connection logging",
              "default": false
            }
          },
          "required": []
        },
        "metadata": {
          "category": "health",
          "command": "websocket-status",
          "full_syntax": "brain [--json] [--verbose] health websocket-status",
          "intents": [
            "health_check"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "fast"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_add_turn",
        "description": "Add a conversation turn to an intent's chat.. Execute via: brain intent add-turn",
        "parameters": {
          "type": "object",
          "properties": {
            "_i": {
              "type": "string",
              "description": "Intent UUID"
            },
            "_f": {
              "type": "string",
              "description": "Intent folder name"
            },
            "_a": {
              "type": "string",
              "description": "Who is speaking: 'user' or 'ai'",
              "default": "user"
            },
            "_c_<value": {
              "type": "string",
              "description": "Content of the message"
            },
            "_p": {
              "type": "string",
              "description": "Path to Bloom project"
            }
          },
          "required": [
            "_c_<value"
          ]
        },
        "metadata": {
          "category": "intent",
          "command": "add-turn",
          "full_syntax": "brain [--json] [--verbose] intent add-turn",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_build_payload",
        "description": "Build optimized AI payload from context plan.. Execute via: brain intent build-payload",
        "parameters": {
          "type": "object",
          "properties": {
            "__plan_<value": {
              "type": "string",
              "description": "Path to context_plan.json"
            },
            "__output": {
              "type": "string",
              "description": "Output path for payload (default: same dir as plan)"
            }
          },
          "required": [
            "__plan_<value"
          ]
        },
        "metadata": {
          "category": "intent",
          "command": "build-payload",
          "full_syntax": "brain [--json] [--verbose] intent build-payload",
          "intents": [
            "build_artifact"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_create",
        "description": "Create a new development or documentation intent.. Execute via: brain intent create",
        "parameters": {
          "type": "object",
          "properties": {
            "_t_<value": {
              "type": "string",
              "description": "Intent type: 'dev' for development or 'doc' for documentation"
            },
            "_n_<value": {
              "type": "string",
              "description": "Human-readable name for the intent (e.g., 'Fix login authentication flow')"
            },
            "_f": {
              "type": "string",
              "description": "Initial files to include in the intent context (can be repeated or comma-separated)"
            },
            "_p": {
              "type": "string",
              "description": "Path to the Nucleus (Bloom project root). Auto-detected if not provided."
            }
          },
          "required": [
            "_t_<value",
            "_n_<value"
          ]
        },
        "metadata": {
          "category": "intent",
          "command": "create",
          "full_syntax": "brain [--json] [--verbose] intent create",
          "intents": [
            "create_resource"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_delete",
        "description": "Delete an intent and all its data.. Execute via: brain intent delete",
        "parameters": {
          "type": "object",
          "properties": {
            "_i": {
              "type": "string",
              "description": "Intent UUID"
            },
            "_f": {
              "type": "string",
              "description": "Intent folder name"
            },
            "__force": {
              "type": "boolean",
              "description": "Skip confirmation and force delete even if locked",
              "default": false
            },
            "_p": {
              "type": "string",
              "description": "Path to Bloom project"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "intent",
          "command": "delete",
          "full_syntax": "brain [--json] [--verbose] intent delete",
          "intents": [
            "delete_resource"
          ],
          "is_idempotent": false,
          "is_destructive": true,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_download",
        "description": "Download AI response from Native Host or file.. Execute via: brain intent download",
        "parameters": {
          "type": "object",
          "properties": {
            "_i": {
              "type": "string",
              "description": "Intent UUID to download response for"
            },
            "__folder": {
              "type": "string",
              "description": "Intent folder name (alternative to intent-id)"
            },
            "__socket_mode": {
              "type": "boolean",
              "description": "Listen on TCP socket for Host connection",
              "default": false
            },
            "__input_file": {
              "type": "string",
              "description": "Read response from file (for testing)"
            },
            "__host": {
              "type": "string",
              "description": "Host IP to listen on",
              "default": "127.0.0.1"
            },
            "__port": {
              "type": "integer",
              "description": "Port to listen on (different from Host's 5678)",
              "default": 5679
            },
            "__timeout": {
              "type": "integer",
              "description": "Socket timeout in seconds",
              "default": 300
            },
            "__nucleus_path": {
              "type": "string",
              "description": "Path to Bloom project (auto-detected if omitted)"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "intent",
          "command": "download",
          "full_syntax": "brain [--json] [--verbose] intent download",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_finalize",
        "description": "Finalize an intent, applying changes to the codebase.. Execute via: brain intent finalize",
        "parameters": {
          "type": "object",
          "properties": {
            "_i": {
              "type": "string",
              "description": "Intent UUID"
            },
            "_f": {
              "type": "string",
              "description": "Intent folder name"
            },
            "_p": {
              "type": "string",
              "description": "Path to Bloom project"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "intent",
          "command": "finalize",
          "full_syntax": "brain [--json] [--verbose] intent finalize",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_get",
        "description": "Get complete details of an intent.. Execute via: brain intent get",
        "parameters": {
          "type": "object",
          "properties": {
            "_i": {
              "type": "string",
              "description": "Intent UUID"
            },
            "_f": {
              "type": "string",
              "description": "Intent folder name"
            },
            "_p": {
              "type": "string",
              "description": "Path to Bloom project"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "intent",
          "command": "get",
          "full_syntax": "brain [--json] [--verbose] intent get",
          "intents": [
            "read_resource"
          ],
          "is_idempotent": true,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_hydrate",
        "description": "Hydrate an intent by processing source files and briefing.. Execute via: brain intent hydrate",
        "parameters": {
          "type": "object",
          "properties": {
            "_i": {
              "type": "string",
              "description": "Intent UUID"
            },
            "_f": {
              "type": "string",
              "description": "Files to include in context (comma-separated)"
            },
            "_b": {
              "type": "string",
              "description": "Path to text file containing briefing"
            },
            "_p": {
              "type": "string",
              "description": "Path to Bloom project root"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "intent",
          "command": "hydrate",
          "full_syntax": "brain [--json] [--verbose] intent hydrate",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_list",
        "description": "List all intents in the project.. Execute via: brain intent list",
        "parameters": {
          "type": "object",
          "properties": {
            "_p": {
              "type": "string",
              "description": "Path to Bloom project (auto-detected if not provided)"
            },
            "_t": {
              "type": "string",
              "description": "Filter by intent type: 'dev' or 'doc'"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "intent",
          "command": "list",
          "full_syntax": "brain [--json] [--verbose] intent list",
          "intents": [
            "read_resource"
          ],
          "is_idempotent": true,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_lock",
        "description": "Lock an intent for exclusive use.. Execute via: brain intent lock",
        "parameters": {
          "type": "object",
          "properties": {
            "_i": {
              "type": "string",
              "description": "Intent UUID"
            },
            "_f": {
              "type": "string",
              "description": "Intent folder name"
            },
            "_p": {
              "type": "string",
              "description": "Path to Bloom project"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "intent",
          "command": "lock",
          "full_syntax": "brain [--json] [--verbose] intent lock",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_merge",
        "description": "Merge staged files from .staging/ into the real codebase.. Execute via: brain intent merge",
        "parameters": {
          "type": "object",
          "properties": {
            "_i": {
              "type": "string",
              "description": "Intent UUID to merge files for"
            },
            "_f": {
              "type": "string",
              "description": "Intent folder name (e.g., .fix-login-a1b2c3d4)"
            },
            "_s": {
              "type": "string",
              "description": "Pipeline stage (briefing, execution, refinement_X). Auto-detect if not provided."
            },
            "__force": {
              "type": "boolean",
              "description": "Skip approval check and merge anyway",
              "default": false
            },
            "__dry_run": {
              "type": "boolean",
              "description": "Show what would be merged without applying",
              "default": false
            },
            "__no_backup": {
              "type": "boolean",
              "description": "Skip backup creation (DANGEROUS)",
              "default": false
            },
            "_p": {
              "type": "string",
              "description": "Path to Bloom project (auto-detected if not provided)"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "intent",
          "command": "merge",
          "full_syntax": "brain [--json] [--verbose] intent merge",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_parse",
        "description": "Parse and validate .raw_output.json from an AI response.. Execute via: brain intent parse",
        "parameters": {
          "type": "object",
          "properties": {
            "_i_<value": {
              "type": "string",
              "description": "Intent UUID to parse"
            },
            "_s": {
              "type": "string",
              "description": "Pipeline stage (briefing, execution, refinement_X). Auto-detect if not provided."
            },
            "__strict": {
              "type": "boolean",
              "description": "Fail on any protocol violation (no fallback parser)",
              "default": false
            },
            "__output_report": {
              "type": "boolean",
              "description": "Generate .parse_report.json",
              "default": true
            },
            "_n": {
              "type": "string",
              "description": "Path to nucleus root (default: current directory)"
            }
          },
          "required": [
            "_i_<value"
          ]
        },
        "metadata": {
          "category": "intent",
          "command": "parse",
          "full_syntax": "brain [--json] [--verbose] intent parse",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_plan",
        "description": "Generate context plan for an intent using Gemini Router.. Execute via: brain intent plan",
        "parameters": {
          "type": "object",
          "properties": {
            "__intent_dir_<value": {
              "type": "string",
              "description": "Intent directory path"
            },
            "__description_<value": {
              "type": "string",
              "description": "Intent description"
            },
            "__type": {
              "type": "string",
              "description": "Intent type: dev, doc, or seed",
              "default": "dev"
            }
          },
          "required": [
            "__intent_dir_<value",
            "__description_<value"
          ]
        },
        "metadata": {
          "category": "intent",
          "command": "plan",
          "full_syntax": "brain [--json] [--verbose] intent plan",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_recover",
        "description": "Recover interrupted intents using lock state recovery data.. Execute via: brain intent recover",
        "parameters": {
          "type": "object",
          "properties": {
            "_i": {
              "type": "string",
              "description": "Intent UUID to recover"
            },
            "_f": {
              "type": "string",
              "description": "Intent folder name (e.g., .fix-login-abc123)"
            },
            "__auto_detect": {
              "type": "boolean",
              "description": "Find and recover all interrupted intents",
              "default": false
            },
            "__force_unlock": {
              "type": "boolean",
              "description": "Force unlock without attempting recovery",
              "default": false
            },
            "_p": {
              "type": "string",
              "description": "Path to Bloom project (auto-detected if not provided)"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "intent",
          "command": "recover",
          "full_syntax": "brain [--json] [--verbose] intent recover",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_stage",
        "description": "Prepare files in .staging/ directory for merge.. Execute via: brain intent stage",
        "parameters": {
          "type": "object",
          "properties": {
            "_i": {
              "type": "string",
              "description": "Intent UUID to stage files for"
            },
            "_f": {
              "type": "string",
              "description": "Intent folder name (e.g., .fix-login-a1b2c3d4)"
            },
            "_s": {
              "type": "string",
              "description": "Pipeline stage (briefing, execution, refinement_X). Auto-detect if not provided."
            },
            "__dry_run": {
              "type": "boolean",
              "description": "Show what would be staged without writing files",
              "default": false
            },
            "__overwrite": {
              "type": "boolean",
              "description": "Overwrite existing .staging/ directory",
              "default": true
            },
            "_p": {
              "type": "string",
              "description": "Path to Bloom project (auto-detected if not provided)"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "intent",
          "command": "stage",
          "full_syntax": "brain [--json] [--verbose] intent stage",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_submit",
        "description": "Submit an intent payload to an AI provider through the native host bridge.. Execute via: brain intent submit",
        "parameters": {
          "type": "object",
          "properties": {
            "_i": {
              "type": "string",
              "description": "UUID of the intent to submit"
            },
            "_f": {
              "type": "string",
              "description": "Folder name of the intent (e.g., .fix-login-a1b2c3d4)"
            },
            "__provider": {
              "type": "string",
              "description": "AI provider to use: 'claude', 'gemini', etc.",
              "default": "claude"
            },
            "_p": {
              "type": "string",
              "description": "Path to the Nucleus (Bloom project root). Auto-detected if not provided."
            },
            "__profile_path": {
              "type": "string",
              "description": "Chrome profile path for the AI provider (optional)"
            },
            "__host": {
              "type": "string",
              "description": "Native host IP address",
              "default": "127.0.0.1"
            },
            "__port": {
              "type": "integer",
              "description": "Native host TCP port",
              "default": 5678
            },
            "__timeout": {
              "type": "integer",
              "description": "Connection timeout in seconds",
              "default": 30
            }
          },
          "required": []
        },
        "metadata": {
          "category": "intent",
          "command": "submit",
          "full_syntax": "brain [--json] [--verbose] intent submit",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_unlock",
        "description": "Unlock an intent to free it for use.. Execute via: brain intent unlock",
        "parameters": {
          "type": "object",
          "properties": {
            "_i": {
              "type": "string",
              "description": "Intent UUID"
            },
            "_f": {
              "type": "string",
              "description": "Intent folder name"
            },
            "__force": {
              "type": "boolean",
              "description": "Force unlock even if locked by another host",
              "default": false
            },
            "_p": {
              "type": "string",
              "description": "Path to Bloom project"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "intent",
          "command": "unlock",
          "full_syntax": "brain [--json] [--verbose] intent unlock",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_update",
        "description": "Update an existing intent's properties.. Execute via: brain intent update",
        "parameters": {
          "type": "object",
          "properties": {
            "_i": {
              "type": "string",
              "description": "UUID of the intent to update"
            },
            "_f": {
              "type": "string",
              "description": "Folder name of the intent (e.g., .fix-login-a1b2c3d4)"
            },
            "_n": {
              "type": "string",
              "description": "New name for the intent (triggers folder rename)"
            },
            "__files": {
              "type": "string",
              "description": "Replace all initial files with this new list"
            },
            "__add_files": {
              "type": "string",
              "description": "Add files to the existing initial_files list"
            },
            "__remove_files": {
              "type": "string",
              "description": "Remove files from the initial_files list"
            },
            "_p": {
              "type": "string",
              "description": "Path to the Nucleus (Bloom project root). Auto-detected if not provided."
            }
          },
          "required": []
        },
        "metadata": {
          "category": "intent",
          "command": "update",
          "full_syntax": "brain [--json] [--verbose] intent update",
          "intents": [
            "update_resource"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_intent_validate",
        "description": "Validate staging files using Gemini analysis.. Execute via: brain intent validate",
        "parameters": {
          "type": "object",
          "properties": {
            "_i": {
              "type": "string",
              "description": "Intent UUID"
            },
            "_f": {
              "type": "string",
              "description": "Intent folder name (e.g., .fix-login-abc123)"
            },
            "_s": {
              "type": "string",
              "description": "Pipeline stage (briefing, execution, refinement_X)"
            },
            "__auto_approve": {
              "type": "boolean",
              "description": "Skip manual review and approve automatically",
              "default": false
            },
            "__gemini_model": {
              "type": "string",
              "description": "Gemini model to use for analysis",
              "default": "gemini-2.0-flash-exp"
            },
            "__skip_gemini": {
              "type": "boolean",
              "description": "Skip Gemini analysis (only basic validation)",
              "default": false
            },
            "_p": {
              "type": "string",
              "description": "Path to Bloom project (auto-detected if omitted)"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "intent",
          "command": "validate",
          "full_syntax": "brain [--json] [--verbose] intent validate",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_nucleus_create",
        "description": "Initialize a new Bloom Nucleus V2.0 project structure.. Execute via: brain nucleus create",
        "parameters": {
          "type": "object",
          "properties": {
            "_o_<value": {
              "type": "string",
              "description": "Organization name"
            },
            "_p": {
              "type": "string",
              "description": "Target path (default: current dir)"
            },
            "__output": {
              "type": "string",
              "description": "Output directory name (legacy, kept for compatibility)",
              "default": ".bloom"
            },
            "__url": {
              "type": "string",
              "description": "Organization URL",
              "default": ""
            },
            "_f": {
              "type": "boolean",
              "description": "Force overwrite existing directory",
              "default": false
            }
          },
          "required": [
            "_o_<value"
          ]
        },
        "metadata": {
          "category": "nucleus",
          "command": "create",
          "full_syntax": "brain [--json] [--verbose] nucleus create",
          "intents": [
            "create_resource"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_nucleus_create_exp_intent",
        "description": "Create a new exploration intent in the nucleus.. Execute via: brain nucleus create-exp-intent",
        "parameters": {
          "type": "object",
          "properties": {
            "_n_<value": {
              "type": "string",
              "description": "Intent name (will be slugified)"
            },
            "_p": {
              "type": "string",
              "description": "Nucleus path (default: current dir)"
            },
            "__inquiry": {
              "type": "string",
              "description": "Initial inquiry question"
            },
            "_d": {
              "type": "string",
              "description": "Intent description"
            },
            "__projects": {
              "type": "string",
              "description": "Comma-separated project names to include"
            }
          },
          "required": [
            "_n_<value"
          ]
        },
        "metadata": {
          "category": "nucleus",
          "command": "create-exp-intent",
          "full_syntax": "brain [--json] [--verbose] nucleus create-exp-intent",
          "intents": [
            "create_resource"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_nucleus_delete",
        "description": "Delete a complete nucleus including all its data.. Execute via: brain nucleus delete",
        "parameters": {
          "type": "object",
          "properties": {
            "_p_<value": {
              "type": "string",
              "description": "Path to the Nucleus root directory to delete"
            },
            "_f": {
              "type": "boolean",
              "description": "Skip confirmation prompt",
              "default": false
            }
          },
          "required": [
            "_p_<value"
          ]
        },
        "metadata": {
          "category": "nucleus",
          "command": "delete",
          "full_syntax": "brain [--json] [--verbose] nucleus delete",
          "intents": [
            "delete_resource"
          ],
          "is_idempotent": false,
          "is_destructive": true,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_nucleus_exp_discovery_turn",
        "description": "Add a discovery turn to an exploration intent.. Execute via: brain nucleus exp-discovery-turn",
        "parameters": {
          "type": "object",
          "properties": {
            "_i_<value": {
              "type": "string",
              "description": "Intent ID or slug"
            },
            "_p": {
              "type": "string",
              "description": "Nucleus path (default: current dir)"
            },
            "__notes": {
              "type": "string",
              "description": "Turn notes/observations"
            },
            "__analysis": {
              "type": "string",
              "description": "Analysis summary for this turn"
            }
          },
          "required": [
            "_i_<value"
          ]
        },
        "metadata": {
          "category": "nucleus",
          "command": "exp-discovery-turn",
          "full_syntax": "brain [--json] [--verbose] nucleus exp-discovery-turn",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_nucleus_exp_export_findings",
        "description": "Export findings from an exploration intent.. Execute via: brain nucleus exp-export-findings",
        "parameters": {
          "type": "object",
          "properties": {
            "_i_<value": {
              "type": "string",
              "description": "Intent ID or slug"
            },
            "_p": {
              "type": "string",
              "description": "Nucleus path (default: current dir)"
            },
            "_f": {
              "type": "string",
              "description": "Export format (markdown, json)",
              "default": "markdown"
            },
            "__include_raw": {
              "type": "boolean",
              "description": "Include raw turn data",
              "default": false
            }
          },
          "required": [
            "_i_<value"
          ]
        },
        "metadata": {
          "category": "nucleus",
          "command": "exp-export-findings",
          "full_syntax": "brain [--json] [--verbose] nucleus exp-export-findings",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_nucleus_get",
        "description": "Retrieve complete details of a nucleus.. Execute via: brain nucleus get",
        "parameters": {
          "type": "object",
          "properties": {
            "_p_<value": {
              "type": "string",
              "description": "Path to the Nucleus root directory"
            }
          },
          "required": [
            "_p_<value"
          ]
        },
        "metadata": {
          "category": "nucleus",
          "command": "get",
          "full_syntax": "brain [--json] [--verbose] nucleus get",
          "intents": [
            "read_resource"
          ],
          "is_idempotent": true,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_nucleus_link",
        "description": "Link an existing folder as a Nucleus project.. Execute via: brain nucleus link",
        "parameters": {
          "type": "object",
          "properties": {
            "path": {
              "type": "string",
              "description": "Path to existing project"
            }
          },
          "required": [
            "path"
          ]
        },
        "metadata": {
          "category": "nucleus",
          "command": "link",
          "full_syntax": "brain [--json] [--verbose] nucleus link",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_nucleus_list",
        "description": "List all Nucleus projects found in a parent directory.. Execute via: brain nucleus list",
        "parameters": {
          "type": "object",
          "properties": {
            "_d": {
              "type": "string",
              "description": "Parent directory to scan for nuclei (default: current directory)"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "nucleus",
          "command": "list",
          "full_syntax": "brain [--json] [--verbose] nucleus list",
          "intents": [
            "read_resource"
          ],
          "is_idempotent": true,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_nucleus_list_projects",
        "description": "List all projects linked to the nucleus with their details.. Execute via: brain nucleus list-projects",
        "parameters": {
          "type": "object",
          "properties": {
            "_p": {
              "type": "string",
              "description": "Nucleus root path (default: current directory)"
            },
            "_s": {
              "type": "string",
              "description": "Filter by project strategy (python, typescript, go, etc.)"
            },
            "__active_only": {
              "type": "boolean",
              "description": "Show only active projects",
              "default": false
            }
          },
          "required": []
        },
        "metadata": {
          "category": "nucleus",
          "command": "list-projects",
          "full_syntax": "brain [--json] [--verbose] nucleus list-projects",
          "intents": [
            "read_resource"
          ],
          "is_idempotent": true,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_nucleus_onboarding_complete",
        "description": "Mark an onboarding step or entire onboarding as completed.. Execute via: brain nucleus onboarding-complete",
        "parameters": {
          "type": "object",
          "properties": {
            "_s": {
              "type": "string",
              "description": "Step name to mark as completed"
            },
            "_a": {
              "type": "boolean",
              "description": "Mark entire onboarding as completed",
              "default": false
            },
            "_p": {
              "type": "string",
              "description": "Nucleus root path (default: current dir)"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "nucleus",
          "command": "onboarding-complete",
          "full_syntax": "brain [--json] [--verbose] nucleus onboarding-complete",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_nucleus_onboarding_status",
        "description": "Get the current onboarding status from nucleus configuration.. Execute via: brain nucleus onboarding-status",
        "parameters": {
          "type": "object",
          "properties": {
            "_p": {
              "type": "string",
              "description": "Nucleus root path (default: current dir)"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "nucleus",
          "command": "onboarding-status",
          "full_syntax": "brain [--json] [--verbose] nucleus onboarding-status",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "fast"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_nucleus_project_info",
        "description": "Display detailed information about a specific project in the nucleus.. Execute via: brain nucleus project-info",
        "parameters": {
          "type": "object",
          "properties": {
            "project_name": {
              "type": "string",
              "description": "Name of the project to inspect"
            },
            "_p": {
              "type": "string",
              "description": "Nucleus root path (default: current directory)"
            }
          },
          "required": [
            "project_name"
          ]
        },
        "metadata": {
          "category": "nucleus",
          "command": "project-info",
          "full_syntax": "brain [--json] [--verbose] nucleus project-info",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_nucleus_status",
        "description": "Check if a directory is a valid Nucleus project.. Execute via: brain nucleus status",
        "parameters": {
          "type": "object",
          "properties": {
            "_p": {
              "type": "string",
              "description": "Nucleus path"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "nucleus",
          "command": "status",
          "full_syntax": "brain [--json] [--verbose] nucleus status",
          "intents": [
            "health_check"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "fast"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_nucleus_sync",
        "description": "Synchronize projects and rebuild nucleus cache.. Execute via: brain nucleus sync",
        "parameters": {
          "type": "object",
          "properties": {
            "_p": {
              "type": "string",
              "description": "Nucleus path (default: current dir)"
            },
            "__skip_git": {
              "type": "boolean",
              "description": "Skip git pull operations",
              "default": false
            },
            "_v": {
              "type": "boolean",
              "description": "Show detailed progress",
              "default": false
            }
          },
          "required": []
        },
        "metadata": {
          "category": "nucleus",
          "command": "sync",
          "full_syntax": "brain [--json] [--verbose] nucleus sync",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_profile_link",
        "description": "Vincula una cuenta de email a un perfil (DEPRECATED - usar accounts-register).. Execute via: brain profile link",
        "parameters": {
          "type": "object",
          "properties": {
            "profile_id": {
              "type": "string",
              "description": "ID del perfil"
            },
            "email": {
              "type": "string",
              "description": "Email de la cuenta a vincular"
            }
          },
          "required": [
            "profile_id",
            "email"
          ]
        },
        "metadata": {
          "category": "profile",
          "command": "link",
          "full_syntax": "brain [--json] [--verbose] profile link",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_profile_unlink",
        "description": "Desvincula la cuenta asociada a un perfil (DEPRECATED - usar accounts-remove).. Execute via: brain profile unlink",
        "parameters": {
          "type": "object",
          "properties": {
            "profile_id": {
              "type": "string",
              "description": "ID del perfil"
            }
          },
          "required": [
            "profile_id"
          ]
        },
        "metadata": {
          "category": "profile",
          "command": "unlink",
          "full_syntax": "brain [--json] [--verbose] profile unlink",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_profile_accounts_register",
        "description": "Registra una nueva cuenta en un perfil.. Execute via: brain profile accounts-register",
        "parameters": {
          "type": "object",
          "properties": {
            "profile_id": {
              "type": "string",
              "description": "ID del perfil"
            },
            "provider": {
              "type": "string",
              "description": "Proveedor (google, openai, anthropic, etc)"
            },
            "email": {
              "type": "string",
              "description": "Email o identificador de la cuenta"
            }
          },
          "required": [
            "profile_id",
            "provider",
            "email"
          ]
        },
        "metadata": {
          "category": "profile",
          "command": "accounts-register",
          "full_syntax": "brain [--json] [--verbose] profile accounts-register",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_profile_accounts_remove",
        "description": "Remueve una cuenta registrada de un perfil.. Execute via: brain profile accounts-remove",
        "parameters": {
          "type": "object",
          "properties": {
            "profile_id": {
              "type": "string",
              "description": "ID del perfil"
            },
            "provider": {
              "type": "string",
              "description": "Proveedor a remover"
            }
          },
          "required": [
            "profile_id",
            "provider"
          ]
        },
        "metadata": {
          "category": "profile",
          "command": "accounts-remove",
          "full_syntax": "brain [--json] [--verbose] profile accounts-remove",
          "intents": [
            "delete_resource"
          ],
          "is_idempotent": false,
          "is_destructive": true,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_profile_create",
        "description": "Crea un nuevo perfil con el alias especificado.. Execute via: brain profile create",
        "parameters": {
          "type": "object",
          "properties": {
            "alias": {
              "type": "string",
              "description": "Nombre descriptivo del perfil"
            }
          },
          "required": [
            "alias"
          ]
        },
        "metadata": {
          "category": "profile",
          "command": "create",
          "full_syntax": "brain [--json] [--verbose] profile create",
          "intents": [
            "create_resource"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_profile_destroy",
        "description": "Elimina un perfil y sus datos. Requiere confirmacin a menos que se use --force.. Execute via: brain profile destroy",
        "parameters": {
          "type": "object",
          "properties": {
            "profile_id": {
              "type": "string",
              "description": "ID del perfil a eliminar"
            },
            "_f": {
              "type": "boolean",
              "description": "Forzar sin confirmacin",
              "default": false
            }
          },
          "required": [
            "profile_id"
          ]
        },
        "metadata": {
          "category": "profile",
          "command": "destroy",
          "full_syntax": "brain [--json] [--verbose] profile destroy",
          "intents": [
            "delete_resource"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_profile_launch",
        "description": "Lanza Chrome con el perfil especificado y la extensin Bloom.. Execute via: brain profile launch",
        "parameters": {
          "type": "object",
          "properties": {
            "profile_id": {
              "type": "string",
              "description": "ID del perfil a lanzar"
            },
            "__url": {
              "type": "string",
              "description": "URL inicial explcita"
            },
            "__cockpit": {
              "type": "boolean",
              "description": "Modo cockpit (landing page)",
              "default": false
            },
            "__discovery": {
              "type": "boolean",
              "description": "Modo de validacin de conexin",
              "default": false
            }
          },
          "required": [
            "profile_id"
          ]
        },
        "metadata": {
          "category": "profile",
          "command": "launch",
          "full_syntax": "brain [--json] [--verbose] profile launch",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_profile_list",
        "description": "MOSTRAR AL USUARIO (CLI).. Execute via: brain profile list",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": []
        },
        "metadata": {
          "category": "profile",
          "command": "list",
          "full_syntax": "brain [--json] [--verbose] profile list",
          "intents": [
            "read_resource"
          ],
          "is_idempotent": true,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_project_add",
        "description": "Vincula un proyecto local existente a un Nucleus.. Execute via: brain project add",
        "parameters": {
          "type": "object",
          "properties": {
            "project_path": {
              "type": "string",
              "description": "Ruta al proyecto a vincular"
            },
            "_n_<value": {
              "type": "string",
              "description": "Ruta al Nucleus destino"
            },
            "__name": {
              "type": "string",
              "description": "Nombre custom del proyecto (default: nombre de carpeta)"
            },
            "__strategy": {
              "type": "string",
              "description": "Forzar estrategia especfica (default: auto-detect)"
            },
            "__description": {
              "type": "string",
              "description": "Descripcin del proyecto"
            },
            "__repo_url": {
              "type": "string",
              "description": "URL del repositorio GitHub"
            }
          },
          "required": [
            "project_path",
            "_n_<value"
          ]
        },
        "metadata": {
          "category": "project",
          "command": "add",
          "full_syntax": "brain [--json] [--verbose] project add",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_project_clone_and_add",
        "description": "Clone a Git repository and automatically link it to the current Nucleus.. Execute via: brain project clone-and-add",
        "parameters": {
          "type": "object",
          "properties": {
            "repo_url": {
              "type": "string",
              "description": "Git repository URL (HTTPS or SSH)"
            },
            "_d": {
              "type": "string",
              "description": "Absolute path where to clone the repository. If not provided, clones to Nucleus root using repo name."
            },
            "_n": {
              "type": "string",
              "description": "Path to the Nucleus project. Auto-detected from current directory if not provided."
            },
            "__name": {
              "type": "string",
              "description": "Custom name for the project (default: repository name)"
            },
            "__strategy": {
              "type": "string",
              "description": "Force specific technology strategy (e.g., python, typescript, android)"
            },
            "__description": {
              "type": "string",
              "description": "Project description"
            }
          },
          "required": [
            "repo_url"
          ]
        },
        "metadata": {
          "category": "project",
          "command": "clone-and-add",
          "full_syntax": "brain [--json] [--verbose] project clone-and-add",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_project_detect",
        "description": "Scan directory and detect project types automatically.. Execute via: brain project detect",
        "parameters": {
          "type": "object",
          "properties": {
            "parent_path": {
              "type": "string",
              "description": "Parent directory to scan for projects"
            },
            "_d": {
              "type": "integer",
              "description": "Maximum depth for recursive scanning",
              "default": 3
            },
            "_s": {
              "type": "string",
              "description": "Filter projects by strategy type"
            },
            "_c": {
              "type": "string",
              "description": "Filter by minimum confidence level (high, medium, low)"
            }
          },
          "required": [
            "parent_path"
          ]
        },
        "metadata": {
          "category": "project",
          "command": "detect",
          "full_syntax": "brain [--json] [--verbose] project detect",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_project_load",
        "description": "Validates and loads project information. . Execute via: brain project load",
        "parameters": {
          "type": "object",
          "properties": {
            "_p": {
              "type": "string",
              "description": "Path to the project root",
              "default": "."
            }
          },
          "required": []
        },
        "metadata": {
          "category": "project",
          "command": "load",
          "full_syntax": "brain [--json] [--verbose] project load",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_runtime_run",
        "description": "Start Brain core runtime. Execute via: brain runtime run",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": []
        },
        "metadata": {
          "category": "runtime",
          "command": "run",
          "full_syntax": "brain [--json] [--verbose] runtime run",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_service_start",
        "description": "Start the Brain TCP multiplexer service.. Execute via: brain service start",
        "parameters": {
          "type": "object",
          "properties": {
            "_p": {
              "type": "integer",
              "description": "TCP port to bind",
              "default": 5678
            },
            "_h": {
              "type": "string",
              "description": "Host address to bind",
              "default": "127.0.0.1"
            },
            "_d": {
              "type": "boolean",
              "description": "Run as background daemon",
              "default": false
            }
          },
          "required": []
        },
        "metadata": {
          "category": "service",
          "command": "start",
          "full_syntax": "brain [--json] [--verbose] service start",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_service_status",
        "description": "Check the current status of the Brain service.. Execute via: brain service status",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": []
        },
        "metadata": {
          "category": "service",
          "command": "status",
          "full_syntax": "brain [--json] [--verbose] service status",
          "intents": [
            "health_check"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "fast"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_service_stop",
        "description": "Stop the running Brain service.. Execute via: brain service stop",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": []
        },
        "metadata": {
          "category": "service",
          "command": "stop",
          "full_syntax": "brain [--json] [--verbose] service stop",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_synapse_host",
        "description": "Inicia el modo Host (Listener Loop).. Execute via: brain synapse host",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": []
        },
        "metadata": {
          "category": "synapse",
          "command": "host",
          "full_syntax": "brain [--json] [--verbose] synapse host",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_synapse_close",
        "description": "Enva seal de terminacin al navegador.. Execute via: brain synapse close",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": []
        },
        "metadata": {
          "category": "synapse",
          "command": "close",
          "full_syntax": "brain [--json] [--verbose] synapse close",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_system_info",
        "description": "Display comprehensive system information.. Execute via: brain system info",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": []
        },
        "metadata": {
          "category": "system",
          "command": "info",
          "full_syntax": "brain [--json] [--verbose] system info",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_system_path",
        "description": "Display the absolute path to the brain executable.. Execute via: brain system path",
        "parameters": {
          "type": "object",
          "properties": {},
          "required": []
        },
        "metadata": {
          "category": "system",
          "command": "path",
          "full_syntax": "brain [--json] [--verbose] system path",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "brain_system_version",
        "description": "Display or increment the version number.. Execute via: brain system version",
        "parameters": {
          "type": "object",
          "properties": {
            "__added": {
              "type": "string",
              "description": "Feature or capability added (can be used multiple times)"
            },
            "__changed": {
              "type": "string",
              "description": "Feature or behavior changed (can be used multiple times)"
            },
            "__details": {
              "type": "string",
              "description": "Implementation detail or technical note (can be used multiple times)"
            }
          },
          "required": []
        },
        "metadata": {
          "category": "system",
          "command": "version",
          "full_syntax": "brain [--json] [--verbose] system version",
          "intents": [
            "general_operation"
          ],
          "is_idempotent": false,
          "is_destructive": false,
          "estimated_duration": "medium"
        }
      }
    }
  ],
  "semantic_layer": {
    "intent_mappings": {
      "general_operation": [
        "chrome read-log",
        "chrome read-net-log",
        "context generate",
        "extension install",
        "filesystem compress",
        "filesystem extract",
        "filesystem tree",
        "gemini keys-add",
        "gemini keys-stats",
        "gemini keys-validate",
        "github clone",
        "intent add-turn",
        "intent download",
        "intent finalize",
        "intent hydrate",
        "intent lock",
        "intent merge",
        "intent parse",
        "intent plan",
        "intent recover",
        "intent stage",
        "intent submit",
        "intent unlock",
        "intent validate",
        "nucleus exp-discovery-turn",
        "nucleus exp-export-findings",
        "nucleus link",
        "nucleus onboarding-complete",
        "nucleus onboarding-status",
        "nucleus project-info",
        "nucleus sync",
        "profile link",
        "profile unlink",
        "profile accounts-register",
        "profile launch",
        "project add",
        "project clone-and-add",
        "project detect",
        "project load",
        "runtime run",
        "service start",
        "service stop",
        "synapse host",
        "synapse close",
        "system info",
        "system path",
        "system version"
      ],
      "update_resource": [
        "extension update",
        "intent update"
      ],
      "health_check": [
        "extension verify",
        "github auth-status",
        "health dev-check",
        "health full-stack",
        "health native-ping",
        "health onboarding-status",
        "health websocket-status",
        "nucleus status",
        "service status"
      ],
      "delete_resource": [
        "gemini keys-delete",
        "intent delete",
        "nucleus delete",
        "profile accounts-remove",
        "profile destroy"
      ],
      "read_resource": [
        "gemini keys-list",
        "github orgs-list",
        "github repos-list",
        "intent get",
        "intent list",
        "nucleus get",
        "nucleus list",
        "nucleus list-projects",
        "profile list"
      ],
      "authentication": [
        "github auth-login",
        "github auth-logout",
        "github auth-status"
      ],
      "build_artifact": [
        "intent build-payload"
      ],
      "create_resource": [
        "intent create",
        "nucleus create",
        "nucleus create-exp-intent",
        "profile create"
      ]
    },
    "dependency_graph": {
      "nucleus create": {
        "suggests": [
          "github auth-login"
        ],
        "requires": []
      },
      "nucleus create-exp-intent": {
        "suggests": [
          "github auth-login"
        ],
        "requires": []
      }
    },
    "command_categories": [
      {
        "name": "chrome",
        "description": "Chrome profile debugging and network log analysis",
        "command_count": 1
      },
      {
        "name": "context",
        "description": "AI context generation and management",
        "command_count": 1
      },
      {
        "name": "extension",
        "description": "Chrome extension lifecycle management",
        "command_count": 4
      },
      {
        "name": "filesystem",
        "description": "File operations and directory analysis",
        "command_count": 3
      },
      {
        "name": "gemini",
        "description": "Gemini AI key management and operations",
        "command_count": 5
      },
      {
        "name": "github",
        "description": "GitHub integration and repository management",
        "command_count": 9
      },
      {
        "name": "health",
        "description": "System health checks and diagnostics",
        "command_count": 5
      },
      {
        "name": "intent",
        "description": "Intent execution system and context planning",
        "command_count": 19
      },
      {
        "name": "nucleus",
        "description": "Nucleus project management and lifecycle",
        "command_count": 14
      },
      {
        "name": "profile",
        "description": "Chrome profile and AI account management",
        "command_count": 8
      },
      {
        "name": "project",
        "description": "Project lifecycle and scaffolding",
        "command_count": 5
      },
      {
        "name": "runtime",
        "description": "Non-interactive system runtime operations",
        "command_count": 1
      },
      {
        "name": "service",
        "description": "Background connection multiplexer and task runner",
        "command_count": 1
      },
      {
        "name": "synapse",
        "description": "Chrome Native Messaging Bridge and protocol management",
        "command_count": 1
      },
      {
        "name": "system",
        "description": "Runtime and system introspection",
        "command_count": 3
      },
      {
        "name": "twitter",
        "description": "Twitter/X integration and social data analysis",
        "command_count": 1
      }
    ]
  },
  "execution_policies": {
    "global_options": {
      "--json": {
        "position": "before_category",
        "description": "Enable JSON output for machine parsing",
        "affects_all_commands": true
      },
      "--verbose": {
        "position": "before_category",
        "description": "Enable detailed logging",
        "affects_all_commands": true
      }
    },
    "safety_rails": {
      "require_confirmation": [
        "brain_gemini_keys_delete",
        "brain_intent_delete",
        "brain_nucleus_delete",
        "brain_profile_accounts_remove"
      ],
      "idempotent_commands": [
        "brain_gemini_keys_list",
        "brain_github_orgs_list",
        "brain_github_repos_list",
        "brain_intent_get",
        "brain_intent_list",
        "brain_nucleus_get",
        "brain_nucleus_list",
        "brain_nucleus_list_projects",
        "brain_profile_list"
      ]
    }
  },
  "usage_examples": [
    {
      "user_intent": "Check if the system is healthy",
      "commands": [
        {
          "tool": "brain_health_native_ping",
          "params": {}
        },
        {
          "tool": "brain_health_onboarding_status",
          "params": {}
        }
      ],
      "explanation": "Run health checks to verify system connectivity"
    }
  ],
  "error_recovery": {
    "common_patterns": [
      {
        "error_signature": "authentication.*failed",
        "suggested_commands": [
          "brain_github_auth_login"
        ],
        "description": "Re-authenticate with GitHub"
      }
    ]
  },
  "agent_protocol": {
    "version": "1.0",
    "capabilities": {
      "can_chain_commands": true,
      "supports_rollback": false,
      "supports_dry_run": true,
      "supports_parallel_execution": false
    },
    "communication": {
      "input_format": "natural_language | structured_json",
      "output_format": "json",
      "progress_updates": "synchronous"
    }
  }
}
