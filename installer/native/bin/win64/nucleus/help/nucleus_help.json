[
  {
    "name": "add",
    "use": "add \u003cgithub-id\u003e",
    "short": "Add team member",
    "category": "TEAM",
    "args": [
      {
        "name": "\u003cgithub-id\u003e",
        "required": true
      }
    ],
    "options": [
      {
        "name": "name",
        "usage": "Display name"
      },
      {
        "name": "role",
        "usage": "Role",
        "default": "specialist"
      }
    ]
  },
  {
    "name": "alfred",
    "use": "alfred status",
    "short": "Muestra el reporte de salud administrativa y estado de la Bóveda",
    "category": "GOVERNANCE",
    "args": [
      {
        "name": "status",
        "required": true
      }
    ],
    "options": [
      {
        "name": "json",
        "usage": "Salida en formato JSON (para Conductor u otras herramientas)",
        "default": "false"
      }
    ]
  },
  {
    "name": "alfred",
    "use": "alfred start",
    "short": "Inicia el custodio administrativo y los servidores de autoridad",
    "category": "GOVERNANCE",
    "args": [
      {
        "name": "start",
        "required": true
      }
    ]
  },
  {
    "name": "alfred",
    "use": "alfred audit",
    "short": "Ejecuta una verificación de integridad manual sobre el sistema de archivos",
    "category": "GOVERNANCE",
    "args": [
      {
        "name": "audit",
        "required": true
      }
    ]
  },
  {
    "name": "dev-start",
    "use": "dev-start",
    "short": "Start Nucleus development environment with full boot sequence",
    "category": "ORCHESTRATION",
    "options": [
      {
        "name": "json",
        "usage": "Output result as JSON",
        "default": "false"
      },
      {
        "name": "simulation",
        "usage": "Run in simulation mode (use test ownership.json)",
        "default": "false"
      },
      {
        "name": "skip-vault",
        "usage": "Skip vault verification (development only)",
        "default": "false"
      }
    ],
    "example": "  nucleus dev-start\n  nucleus dev-start --simulation\n  nucleus dev-start --skip-vault"
  },
  {
    "name": "health",
    "use": "health",
    "short": "System integrity check — all components in parallel (\u003c3s)",
    "category": "DIAGNOSTICS",
    "options": [
      {
        "name": "component",
        "usage": "Check only one component (temporal, worker, brain_service, etc.)"
      },
      {
        "name": "fix",
        "usage": "Attempt automated remediation of known failures",
        "default": "false"
      },
      {
        "name": "json",
        "usage": "Output result as JSON",
        "default": "false"
      },
      {
        "name": "validate",
        "usage": "Deep validation checks (slower)",
        "default": "false"
      }
    ],
    "example": "  nucleus health\n  nucleus health --fix\n  nucleus health --component brain_service\n  nucleus --json health\n  nucleus --json health --fix\n  nucleus health --validate",
    "json_response": "{\n  \"success\": false,\n  \"state\": \"DEGRADED\",\n  \"error\": \"2 non-critical components unhealthy\",\n  \"timestamp\": 1740000000,\n  \"components\": {\n    \"temporal\":       { \"healthy\": true,  \"state\": \"RUNNING\",      \"port\": 7233,  \"latency_ms\": 4  },\n    \"worker\":         { \"healthy\": false, \"state\": \"DISCONNECTED\",  \"error\": \"Worker process not found in supervisor\" },\n    \"ollama\":         { \"healthy\": true,  \"state\": \"RUNNING\",       \"port\": 11434, \"latency_ms\": 3  },\n    \"control_plane\":  { \"healthy\": true,  \"state\": \"RUNNING\",       \"pid\": 9821   },\n    \"vault\":          { \"healthy\": true,  \"state\": \"UNLOCKED\"       },\n    \"governance\":     { \"healthy\": true,  \"state\": \"VALID\"          },\n    \"brain_service\":  { \"healthy\": false, \"state\": \"UNREACHABLE\",   \"port\": 5678,  \"error\": \"Port 5678 not accessible\" },\n    \"bloom_api\":      { \"healthy\": true,  \"state\": \"RUNNING\",       \"port\": 48215, \"latency_ms\": 12 },\n    \"svelte_dev\":     { \"healthy\": true,  \"state\": \"RUNNING\",       \"port\": 5173,  \"latency_ms\": 5  },\n    \"worker_manager\": { \"healthy\": true,  \"state\": \"ACTIVE\",        \"profiles_count\": 1 }\n  },\n  \"brain_last_errors\": {\n    \"brain_service_log\":   [\"2026-02-20 22:50:09 ERROR Connection reset by peer\"],\n    \"brain_event_bus_log\": [\"2026-02-20 22:50:09 ERROR WinError 64: pipe broken\"]\n  }\n}"
  },
  {
    "name": "heartbeat",
    "use": "heartbeat",
    "short": "Send heartbeat to central server",
    "category": "ANALYTICS",
    "options": [
      {
        "name": "volume",
        "usage": "Intent volume",
        "default": "0"
      },
      {
        "name": "workers",
        "usage": "Active workers count",
        "default": "0"
      }
    ]
  },
  {
    "name": "info",
    "use": "info",
    "short": "Display detailed system information",
    "category": "SYSTEM"
  },
  {
    "name": "init",
    "use": "init",
    "short": "Initialize Nucleus organization",
    "category": "GOVERNANCE",
    "options": [
      {
        "name": "github-id",
        "usage": "GitHub username"
      },
      {
        "name": "master",
        "usage": "Initialize as master",
        "default": "false"
      },
      {
        "name": "name",
        "usage": "Display name"
      }
    ]
  },
  {
    "name": "list",
    "use": "list",
    "short": "List team members",
    "category": "TEAM"
  },
  {
    "name": "logs",
    "use": "logs [component]",
    "short": "Read and filter component logs via telemetry.json index",
    "category": "DIAGNOSTICS",
    "args": [
      {
        "name": "component",
        "required": false
      }
    ],
    "options": [
      {
        "name": "errors-only",
        "usage": "Show only WARNING and ERROR lines",
        "default": "false"
      },
      {
        "name": "json",
        "usage": "Output result as JSON",
        "default": "false"
      },
      {
        "name": "launch",
        "usage": "Correlate all logs for a launch ID (e.g. 001_7a30f1a6_195107)"
      },
      {
        "name": "no-startup",
        "usage": "Exclude initialization/startup noise lines",
        "default": "false"
      },
      {
        "name": "since",
        "usage": "Show lines from the last X duration (e.g. 5m, 2h, 30s)"
      }
    ],
    "example": "  nucleus logs brain_server\n  nucleus logs brain_server --since 10m --errors-only --no-startup\n  nucleus logs sentinel_core --since 1h\n  nucleus logs brain_service --errors-only\n  nucleus logs --launch 001_7a30f1a6_195107\n  nucleus --json logs brain_server --since 5m --errors-only",
    "json_response": "{\n  \"success\": true,\n  \"component\": \"brain_server\",\n  \"lines\": [\n    \"2026-02-20 22:50:09 ERROR WinError 64: The specified network name is no longer available\",\n    \"2026-02-20 22:50:09 ERROR Connection reset by peer\"\n  ],\n  \"count\": 2\n}"
  },
  {
    "name": "logs",
    "use": "logs [stream]",
    "short": "Read, trace and analyze Nucleus log streams",
    "category": "ORCHESTRATION",
    "args": [
      {
        "name": "stream",
        "required": false
      }
    ],
    "options": [
      {
        "name": "errors-only",
        "usage": "Only show WARNING or ERROR lines",
        "default": "false"
      },
      {
        "name": "json",
        "usage": "Output in JSON format",
        "default": "false"
      },
      {
        "name": "launch",
        "usage": "Launch ID to produce a full synapse trace"
      },
      {
        "name": "no-startup",
        "usage": "Exclude Brain startup noise patterns",
        "default": "false"
      },
      {
        "name": "out",
        "usage": "Output file path (default: logs/synapse/trace_\u003claunch_id\u003e.log)"
      },
      {
        "name": "profile",
        "usage": "Profile ID (required for Chrome log analysis with --launch)"
      },
      {
        "name": "since",
        "usage": "Only show lines from last X minutes/hours (e.g. 5m, 2h)"
      },
      {
        "name": "summary",
        "usage": "Show dashboard of all streams",
        "default": "false"
      },
      {
        "name": "tail",
        "usage": "Live tail mode (follow file)",
        "default": "false"
      }
    ],
    "example": "  nucleus logs nucleus_synapse --since 5m\n  nucleus logs sentinel_core --errors-only --no-startup\n  nucleus logs --launch 001_0b31f2fa_033803 --profile 0b31f2fa-1463-4919-b63e-96db6e36744c\n  nucleus logs --summary --since 10m\n  nucleus --json logs --launch 001_0b31f2fa_033803 --profile 0b31f2fa-1463-4919-b63e-96db6e36744c",
    "json_response": "{\n  \"success\": true,\n  \"mode\": \"stream|launch|summary\",\n  \"lines\": 42,\n  \"output_file\": \"logs/synapse_trace/trace_001_0b31f2fa_033803.log\"\n}"
  },
  {
    "name": "remove",
    "use": "remove \u003cgithub-id\u003e",
    "short": "Remove team member",
    "category": "TEAM",
    "args": [
      {
        "name": "\u003cgithub-id\u003e",
        "required": true
      }
    ]
  },
  {
    "name": "start",
    "use": "start",
    "short": "Start Nucleus as Windows service (daemon mode)",
    "category": "ORCHESTRATION",
    "options": [
      {
        "name": "json",
        "usage": "Output result as JSON",
        "default": "false"
      },
      {
        "name": "skip-vault",
        "usage": "Skip vault verification (development only)",
        "default": "false"
      }
    ],
    "example": "  nucleus service start\n  nucleus service start --skip-vault\n  nucleus --json service start",
    "json_response": "{\n  \"success\": true,\n  \"pid\": 12345,\n  \"boot_time_seconds\": 8.5,\n  \"components\": {\n    \"temporal\": \"running\",\n    \"worker\": \"running\",\n    \"ollama\": \"running\",\n    \"control_plane\": \"running\",\n    \"vault\": \"unlocked\"\n  },\n  \"ollama_pid\": 12346,\n  \"ollama_port\": 11434,\n  \"control_plane_pid\": 12347,\n  \"vault_state\": \"unlocked\",\n  \"timestamp\": 1708012800\n}"
  },
  {
    "name": "status",
    "use": "status",
    "short": "Check Nucleus service status",
    "category": "ORCHESTRATION",
    "options": [
      {
        "name": "json",
        "usage": "Output result as JSON",
        "default": "false"
      }
    ],
    "example": "  nucleus service status\n  nucleus --json service status",
    "json_response": "{\n  \"success\": true,\n  \"running\": true,\n  \"pid\": 12345,\n  \"components\": {\n    \"temporal\": \"healthy\",\n    \"worker\": \"healthy\",\n    \"ollama\": \"healthy\",\n    \"control_plane\": \"healthy\"\n  },\n  \"timestamp\": 1708012800\n}"
  },
  {
    "name": "stop",
    "use": "stop",
    "short": "Stop running Nucleus service gracefully",
    "category": "ORCHESTRATION",
    "options": [
      {
        "name": "json",
        "usage": "Output result as JSON",
        "default": "false"
      }
    ],
    "example": "  nucleus service stop\n  nucleus --json service stop",
    "json_response": "{\n  \"success\": true,\n  \"message\": \"Service stopped gracefully\",\n  \"timestamp\": 1708012800\n}"
  },
  {
    "name": "launch",
    "use": "launch \u003cprofile_id\u003e",
    "short": "Launch Sentinel for a profile (with pre-flight check)",
    "category": "ORCHESTRATION",
    "args": [
      {
        "name": "\u003cprofile_id\u003e",
        "required": true
      }
    ],
    "options": [
      {
        "name": "json",
        "usage": "Output in JSON format",
        "default": "false"
      },
      {
        "name": "mode",
        "usage": "Launch mode (landing, discovery)",
        "default": "landing"
      },
      {
        "name": "skip-preflight",
        "usage": "Skip Brain/launcher pre-flight check",
        "default": "false"
      }
    ],
    "example": "  nucleus synapse launch prf_a1b2c3d4\n  nucleus synapse launch prf_a1b2c3d4 --mode discovery\n  nucleus synapse launch prf_a1b2c3d4 --skip-preflight\n  nucleus --json synapse launch prf_a1b2c3d4",
    "json_response": "{\n  \"success\": true,\n  \"profile_id\": \"prf_a1b2c3d4\",\n  \"chrome_pid\": 14832,\n  \"debug_port\": 9222,\n  \"extension_loaded\": true,\n  \"state\": \"RUNNING\"\n}"
  },
  {
    "name": "seed",
    "use": "seed \u003calias\u003e",
    "short": "Create new persistent profile workflow",
    "category": "ORCHESTRATION",
    "args": [
      {
        "name": "\u003calias\u003e",
        "required": true
      }
    ],
    "options": [
      {
        "name": "json",
        "usage": "Output in JSON format",
        "default": "false"
      },
      {
        "name": "master",
        "usage": "Create as master profile",
        "default": "false"
      }
    ],
    "example": "  nucleus synapse seed my-profile\n  nucleus synapse seed my-profile --master\n  nucleus --json synapse seed my-profile",
    "json_response": "{\n  \"success\": true,\n  \"profile_id\": \"prf_a1b2c3d4\",\n  \"alias\": \"my-profile\",\n  \"workflow_id\": \"seed_my-profile_1740000000\",\n  \"state\": \"SEEDED\"\n}"
  },
  {
    "name": "shutdown",
    "use": "shutdown \u003cprofile_id\u003e",
    "short": "Shutdown a profile workflow gracefully",
    "category": "ORCHESTRATION",
    "args": [
      {
        "name": "\u003cprofile_id\u003e",
        "required": true
      }
    ],
    "options": [
      {
        "name": "json",
        "usage": "Output in JSON format",
        "default": "false"
      }
    ],
    "example": "  nucleus synapse shutdown prf_a1b2c3d4\n  nucleus --json synapse shutdown prf_a1b2c3d4",
    "json_response": "{\n  \"success\": true,\n  \"profile_id\": \"prf_a1b2c3d4\",\n  \"message\": \"shutdown signal sent\"\n}"
  },
  {
    "name": "shutdown-all",
    "use": "shutdown-all",
    "short": "Shutdown all orchestrated services gracefully",
    "category": "ORCHESTRATION",
    "example": "  nucleus synapse shutdown-all\n  nucleus --json synapse shutdown-all",
    "json_response": "{\n  \"success\": true,\n  \"services_shutdown\": [\"ollama\", \"profile_prf_a1b2c3d4\"],\n  \"count\": 2\n}"
  },
  {
    "name": "start-ollama",
    "use": "start-ollama",
    "short": "Start Ollama AI service via Temporal workflow",
    "category": "ORCHESTRATION",
    "options": [
      {
        "name": "simulation",
        "usage": "Run in simulation mode (no real process)",
        "default": "false"
      }
    ],
    "example": "  nucleus synapse start-ollama\n  nucleus synapse start-ollama --simulation\n  nucleus --json synapse start-ollama",
    "json_response": "{\n  \"success\": true,\n  \"pid\": 18340,\n  \"port\": 11434,\n  \"state\": \"RUNNING\"\n}"
  },
  {
    "name": "status",
    "use": "status \u003cprofile_id\u003e",
    "short": "Query current profile workflow status",
    "category": "ORCHESTRATION",
    "args": [
      {
        "name": "\u003cprofile_id\u003e",
        "required": true
      }
    ],
    "options": [
      {
        "name": "json",
        "usage": "Output in JSON format",
        "default": "false"
      }
    ],
    "example": "  nucleus synapse status prf_a1b2c3d4\n  nucleus --json synapse status prf_a1b2c3d4",
    "json_response": "{\n  \"success\": true,\n  \"status\": {\n    \"profile_id\": \"prf_a1b2c3d4\",\n    \"state\": \"RUNNING\",\n    \"sentinel_running\": true,\n    \"last_update\": \"2026-02-21T19:51:07Z\",\n    \"error_message\": \"\"\n  }\n}"
  },
  {
    "name": "vault-status",
    "use": "vault-status",
    "short": "Query Vault lock state via Brain",
    "category": "ORCHESTRATION",
    "example": "  nucleus synapse vault-status\n  nucleus --json synapse vault-status",
    "json_response": "{\n  \"success\": true,\n  \"vault_state\": \"UNLOCKED\",\n  \"master_profile_active\": true,\n  \"state\": \"HEALTHY\",\n  \"timestamp\": 1740000000\n}"
  },
  {
    "name": "sync-pull",
    "use": "sync-pull",
    "short": "Pull permissions from central server",
    "category": "SYNC"
  },
  {
    "name": "sync-push",
    "use": "sync-push",
    "short": "Push state to central server",
    "category": "SYNC"
  },
  {
    "name": "list",
    "use": "list",
    "short": "List registered telemetry streams, optionally filtered by category",
    "category": "TELEMETRY",
    "options": [
      {
        "name": "category",
        "usage": "Filter by category: brain|build|conductor|launcher|nucleus|sentinel|synapse"
      }
    ]
  },
  {
    "name": "register",
    "use": "register",
    "short": "Register or update a telemetry stream",
    "category": "TELEMETRY",
    "options": [
      {
        "name": "category",
        "usage": "Subsystem category (repeatable): brain|build|conductor|launcher|nucleus|sentinel|synapse",
        "default": "[]"
      },
      {
        "name": "description",
        "usage": "Who writes this log and what it captures (required)"
      },
      {
        "name": "label",
        "usage": "Display label with emoji (required)"
      },
      {
        "name": "path",
        "usage": "Absolute path to log file (required)"
      },
      {
        "name": "priority",
        "usage": "Priority: 1=critical 2=important 3=informational",
        "default": "2"
      },
      {
        "name": "stream",
        "usage": "Stream identifier — lowercase snake_case (required)"
      }
    ]
  },
  {
    "name": "cleanup",
    "use": "cleanup",
    "short": "Clean up zombie Temporal processes on port 7233",
    "category": "TEMPORAL_SERVER",
    "example": "    nucleus temporal cleanup\n    nucleus --json temporal cleanup",
    "json_response": "{\n  \"command\": \"temporal_cleanup\",\n  \"port\": 7233,\n  \"found_process\": true,\n  \"pid\": 19580,\n  \"executable\": \"C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\BloomNucleus\\\\bin\\\\temporal\\\\temporal.exe\",\n  \"action_taken\": \"killed\",\n  \"port_free_after\": true,\n  \"errors\": []\n}"
  },
  {
    "name": "diagnostics",
    "use": "diagnostics",
    "short": "Run comprehensive Temporal diagnostics",
    "category": "TEMPORAL_SERVER",
    "example": "  nucleus temporal diagnostics\n  nucleus --json temporal diagnostics",
    "json_response": "{\n  \"executable\": {\n    \"path\": \"C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\BloomNucleus\\\\bin\\\\temporal\\\\temporal.exe\",\n    \"exists\": true,\n    \"size\": 123456789\n  },\n  \"health\": {\n    \"operational\": true,\n    \"state\": \"RUNNING\",\n    \"grpc_responding\": true,\n    \"ui_responding\": true\n  },\n  \"database\": {\n    \"path\": \"C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\BloomNucleus\\\\logs\\\\temporal\\\\temporal.db\",\n    \"exists\": true,\n    \"size\": 98304\n  },\n  \"pid_file\": {\n    \"path\": \"C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\BloomNucleus\\\\logs\\\\temporal\\\\temporal.pid\",\n    \"exists\": true,\n    \"pid\": 12345\n  },\n  \"overall_status\": \"HEALTHY\"\n}"
  },
  {
    "name": "ensure",
    "use": "ensure",
    "short": "Ensure Temporal Server is running (non-interactive, automation-safe)",
    "category": "TEMPORAL_SERVER",
    "example": "  nucleus temporal ensure",
    "json_response": "{\n  \"success\": true,\n  \"state\": \"RUNNING\",\n  \"started\": true,\n  \"pid\": 14192,\n  \"grpc_port\": 7233,\n  \"ui_port\": 8233,\n  \"ui_url\": \"http://localhost:8233\",\n  \"grpc_url\": \"localhost:7233\"\n}"
  },
  {
    "name": "force-stop",
    "use": "force-stop",
    "short": "Forcefully stop all Temporal processes",
    "category": "TEMPORAL_SERVER",
    "example": "    nucleus temporal force-stop\n    nucleus --json temporal force-stop",
    "json_response": "{\n  \"command\": \"temporal_force_stop\",\n  \"processes_found\": 2,\n  \"processes_killed\": 2,\n  \"port_7233_free\": true,\n  \"state_cleaned\": true,\n  \"details\": [\n    {\n      \"pid\": 19580,\n      \"executable\": \"C:\\\\Users\\\\user\\\\AppData\\\\Local\\\\BloomNucleus\\\\bin\\\\temporal\\\\temporal.exe\",\n      \"killed\": true\n    }\n  ],\n  \"errors\": []\n}"
  },
  {
    "name": "start",
    "use": "start",
    "short": "Start Temporal Server (interactive mode)",
    "category": "TEMPORAL_SERVER",
    "example": "  nucleus temporal start\n  nucleus --json temporal start",
    "json_response": "{\n  \"temporal\": {\n    \"state\": \"RUNNING\",\n    \"pid\": 12345,\n    \"grpc_port\": 7233,\n    \"ui_port\": 8233,\n    \"ui_url\": \"http://localhost:8233\",\n    \"grpc_url\": \"localhost:7233\"\n  }\n}"
  },
  {
    "name": "status",
    "use": "status",
    "short": "Check Temporal Server status",
    "category": "TEMPORAL_SERVER",
    "example": "  nucleus temporal status\n  nucleus --json temporal status",
    "json_response": "{\n  \"temporal\": {\n    \"operational\": true,\n    \"state\": \"RUNNING\",\n    \"ui_port\": 8233,\n    \"grpc_port\": 7233,\n    \"ui_url\": \"http://localhost:8233\",\n    \"grpc_url\": \"localhost:7233\",\n    \"health_checks\": {\n      \"grpc\": true,\n      \"ui\": true\n    }\n  }\n}"
  },
  {
    "name": "stop",
    "use": "stop",
    "short": "Stop running Temporal Server",
    "category": "TEMPORAL_SERVER",
    "example": "  nucleus temporal stop\n  nucleus --json temporal stop",
    "json_response": "{\n  \"temporal\": {\n    \"state\": \"STOPPED\",\n    \"message\": \"Temporal Server stopped successfully\"\n  }\n}"
  },
  {
    "name": "vault-lock",
    "use": "vault-lock",
    "short": "Lock vault",
    "category": "VAULT"
  },
  {
    "name": "vault-request",
    "use": "vault-request \u003ckey-id\u003e",
    "short": "Request key from vault",
    "category": "VAULT",
    "args": [
      {
        "name": "\u003ckey-id\u003e",
        "required": true
      }
    ]
  },
  {
    "name": "vault-status",
    "use": "vault-status",
    "short": "Display vault status",
    "category": "VAULT"
  },
  {
    "name": "vault-unlock",
    "use": "vault-unlock",
    "short": "Unlock vault",
    "category": "VAULT"
  },
  {
    "name": "version",
    "use": "version",
    "short": "Display version and build information",
    "category": "SYSTEM"
  },
  {
    "name": "worker",
    "use": "worker start",
    "short": "Inicia el worker de Temporal para procesar workflows",
    "category": "ORCHESTRATION",
    "args": [
      {
        "name": "start",
        "required": true
      }
    ],
    "options": [
      {
        "name": "task-queue",
        "shorthand": "q",
        "usage": "Task queue de Temporal",
        "default": "profile-orchestration"
      }
    ]
  }
]
