
                                                        NUCLEUS
                                                 Governance Magistrate


------------------------------------------------------------------------------------------------------------------------
  USAGE
------------------------------------------------------------------------------------------------------------------------

  nucleus [OPTIONS] <command> [args]

  Quick examples:
    nucleus version                    # Display version information
    nucleus info                       # Show system information
    nucleus --json info              # JSON output for automation


------------------------------------------------------------------------------------------------------------------------
  GLOBAL OPTIONS
------------------------------------------------------------------------------------------------------------------------

  --json           Output in JSON format (machine-readable)
  --verbose        Enable detailed logging for debugging
  --help           Show this help message


------------------------------------------------------------------------------------------------------------------------
  COMMAND CATEGORIES
------------------------------------------------------------------------------------------------------------------------

  SYSTEM             System information and diagnostics                       2 cmds
  GOVERNANCE         Organization initialization and authority                4 cmds
  TEAM               Team and collaboration management                        3 cmds
  VAULT              Secure key and credential management                     4 cmds
  SYNC               State synchronization with central server                2 cmds
  ANALYTICS          System monitoring and telemetry                          1 cmd
  TEMPORAL_SERVER    Temporal server management and diagnostics               1 cmd
  ORCHESTRATION      Workflow orchestration and automation                    3 cmds
  ---------------------------------------------------------------------------  Total: 20 commands


=======================================================[ SYSTEM ]=======================================================

  > INFO
    Display detailed system information

    Usage: nucleus info

    --------------------------------------------------------------------------------

  > VERSION
    Display version and build information

    Usage: nucleus version

    --------------------------------------------------------------------------------


=====================================================[ GOVERNANCE ]=====================================================

  > ALFRED
    Muestra el reporte de salud administrativa y estado de la Bóveda

    Usage: nucleus alfred status

    Arguments:
      status                required

    Flags:
      --json                     Salida en formato JSON (para Conductor u otras herramientas)

    --------------------------------------------------------------------------------

  > ALFRED
    Ejecuta una verificación de integridad manual sobre el sistema de archivos

    Usage: nucleus alfred audit

    Arguments:
      audit                 required

    --------------------------------------------------------------------------------

  > ALFRED
    Inicia el custodio administrativo y los servidores de autoridad

    Usage: nucleus alfred start

    Arguments:
      start                 required

    --------------------------------------------------------------------------------

  > INIT
    Initialize Nucleus organization

    Usage: nucleus init

    Flags:
      --github-id                GitHub username
      --master                   Initialize as master
      --name                     Display name

    --------------------------------------------------------------------------------


========================================================[ TEAM ]========================================================

  > ADD
    Add team member

    Usage: nucleus add <github-id>

    Arguments:
      <github-id>           required

    Flags:
      --name                     Display name
      --role                     Role [default: specialist]

    --------------------------------------------------------------------------------

  > LIST
    List team members

    Usage: nucleus list

    --------------------------------------------------------------------------------

  > REMOVE
    Remove team member

    Usage: nucleus remove <github-id>

    Arguments:
      <github-id>           required

    --------------------------------------------------------------------------------


=======================================================[ VAULT ]========================================================

  > VAULT-LOCK
    Lock vault

    Usage: nucleus vault-lock

    --------------------------------------------------------------------------------

  > VAULT-REQUEST
    Request key from vault

    Usage: nucleus vault-request <key-id>

    Arguments:
      <key-id>              required

    --------------------------------------------------------------------------------

  > VAULT-STATUS
    Display vault status

    Usage: nucleus vault-status

    --------------------------------------------------------------------------------

  > VAULT-UNLOCK
    Unlock vault

    Usage: nucleus vault-unlock

    --------------------------------------------------------------------------------


========================================================[ SYNC ]========================================================

  > SYNC-PULL
    Pull permissions from central server

    Usage: nucleus sync-pull

    --------------------------------------------------------------------------------

  > SYNC-PUSH
    Push state to central server

    Usage: nucleus sync-push

    --------------------------------------------------------------------------------


=====================================================[ ANALYTICS ]======================================================

  > HEARTBEAT
    Send heartbeat to central server

    Usage: nucleus heartbeat

    Flags:
      --volume                   Intent volume [default: 0]
      --workers                  Active workers count [default: 0]

    --------------------------------------------------------------------------------


==================================================[ TEMPORAL_SERVER ]===================================================

  > TEMPORAL
    Manage Temporal Server lifecycle

    Usage: nucleus temporal

    Subcommands:
      cleanup               Clean up zombie Temporal processes on port 7233
        nucleus temporal cleanup
      diagnostics           Run comprehensive Temporal diagnostics
        nucleus temporal diagnostics
      ensure                Ensure Temporal Server is running (non-interactive, automation-safe)
        nucleus temporal ensure
      force-stop            Forcefully stop all Temporal processes
        nucleus temporal force-stop
      start                 Start Temporal Server (interactive mode)
        nucleus temporal start
      status                Check Temporal Server status
        nucleus temporal status
      stop                  Stop running Temporal Server
        nucleus temporal stop

    Subcommand Details:

      └─ CLEANUP
        Clean up zombie Temporal processes on port 7233

        Usage: nucleus temporal cleanup

        Example:
              nucleus temporal cleanup
              nucleus --json temporal cleanup

        JSON Response:
          {
            "command": "temporal_cleanup",
            "port": 7233,
            "found_process": true,
            "pid": 19580,
            "executable": "C:\\Users\\user\\AppData\\Local\\BloomNucleus\\bin\\temporal\\temporal.exe",
            "action_taken": "killed",
            "port_free_after": true,
            "errors": []
          }

        ----------------------------------------------------------------------

      └─ DIAGNOSTICS
        Run comprehensive Temporal diagnostics

        Usage: nucleus temporal diagnostics

        Example:
            nucleus temporal diagnostics
            nucleus --json temporal diagnostics

        JSON Response:
          {
            "executable": {
              "path": "C:\\Users\\user\\AppData\\Local\\BloomNucleus\\bin\\temporal\\temporal.exe",
              "exists": true,
              "size": 123456789
            },
            "health": {
              "operational": true,
              "state": "RUNNING",
              "grpc_responding": true,
              "ui_responding": true
            },
            "database": {
              "path": "C:\\Users\\user\\AppData\\Local\\BloomNucleus\\logs\\temporal\\temporal.db",
              "exists": true,
              "size": 98304
            },
            "pid_file": {
              "path": "C:\\Users\\user\\AppData\\Local\\BloomNucleus\\logs\\temporal\\temporal.pid",
              "exists": true,
              "pid": 12345
            },
            "overall_status": "HEALTHY"
          }

        ----------------------------------------------------------------------

      └─ ENSURE
        Ensure Temporal Server is running (non-interactive, automation-safe)

        Usage: nucleus temporal ensure

        Example:
            nucleus temporal ensure

        JSON Response:
          {
            "success": true,
            "state": "RUNNING",
            "started": true,
            "pid": 14192,
            "grpc_port": 7233,
            "ui_port": 8233,
            "ui_url": "http://localhost:8233",
            "grpc_url": "localhost:7233"
          }

        ----------------------------------------------------------------------

      └─ FORCE-STOP
        Forcefully stop all Temporal processes

        Usage: nucleus temporal force-stop

        Example:
              nucleus temporal force-stop
              nucleus --json temporal force-stop

        JSON Response:
          {
            "command": "temporal_force_stop",
            "processes_found": 2,
            "processes_killed": 2,
            "port_7233_free": true,
            "state_cleaned": true,
            "details": [
              {
                "pid": 19580,
                "executable": "C:\\Users\\user\\AppData\\Local\\BloomNucleus\\bin\\temporal\\temporal.exe",
                "killed": true
              }
            ],
            "errors": []
          }

        ----------------------------------------------------------------------

      └─ START
        Start Temporal Server (interactive mode)

        Usage: nucleus temporal start

        Example:
            nucleus temporal start
            nucleus --json temporal start

        JSON Response:
          {
            "temporal": {
              "state": "RUNNING",
              "pid": 12345,
              "grpc_port": 7233,
              "ui_port": 8233,
              "ui_url": "http://localhost:8233",
              "grpc_url": "localhost:7233"
            }
          }

        ----------------------------------------------------------------------

      └─ STATUS
        Check Temporal Server status

        Usage: nucleus temporal status

        Example:
            nucleus temporal status
            nucleus --json temporal status

        JSON Response:
          {
            "temporal": {
              "operational": true,
              "state": "RUNNING",
              "ui_port": 8233,
              "grpc_port": 7233,
              "ui_url": "http://localhost:8233",
              "grpc_url": "localhost:7233",
              "health_checks": {
                "grpc": true,
                "ui": true
              }
            }
          }

        ----------------------------------------------------------------------

      └─ STOP
        Stop running Temporal Server

        Usage: nucleus temporal stop

        Example:
            nucleus temporal stop
            nucleus --json temporal stop

        JSON Response:
          {
            "temporal": {
              "state": "STOPPED",
              "message": "Temporal Server stopped successfully"
            }
          }

        ----------------------------------------------------------------------

    --------------------------------------------------------------------------------


===================================================[ ORCHESTRATION ]====================================================

  > DEV-START
    Start Nucleus development environment with full boot sequence

    Usage: nucleus dev-start

    Flags:
      --json                     Output result as JSON
      --simulation               Run in simulation mode (use test ownership.json)
      --skip-vault               Skip vault verification (development only)

    Example:
        nucleus dev-start
        nucleus dev-start --simulation
        nucleus dev-start --skip-vault

    --------------------------------------------------------------------------------

  > SYNAPSE
    Temporal workflow orchestration and lifecycle management

    Usage: nucleus synapse

    Subcommands:
      launch                Launch a browser instance for a profile using Sentinel
        nucleus synapse launch [profile_id]
      shutdown-all          Gracefully shutdown all running services
        nucleus synapse shutdown-all
      start-ollama          Start Ollama service via Temporal workflow
        nucleus synapse start-ollama
      vault-status          Query Vault lock status via Brain
        nucleus synapse vault-status

    Subcommand Details:

      └─ LAUNCH
        Launch a browser instance for a profile using Sentinel

        Usage: nucleus synapse launch [profile_id]

        Arguments:
          profile_id            optional

        Flags:
          --account                  Account identifier
          --alias                    Profile alias
          --config                   JSON config file path or '-' for stdin
          --email                    Email address
          --extension                Extension to load
          --heartbeat                Enable heartbeat tracking
          --mode                     Launch mode (landing, discovery, etc.) [default: landing]
          --register                 Register new profile
          --role                     User role
          --save                     Save configuration for future use
          --service                  Service identifier
          --step                     Execution step

        Example:
            nucleus synapse launch profile_001
            nucleus synapse launch profile_001 --email test@mail.com --service google
            nucleus synapse launch profile_001 --mode discovery --save
            nucleus --json synapse launch profile_001 --config launch.json
          JSON Output:
            {
              "success": true,
              "profile_id": "profile_001",
              "launch_id": "launch_abc123",
              "chrome_pid": 9876,
              "debug_port": 9222,
              "extension_loaded": true,
              "state": "RUNNING",
              "timestamp": 1707418080
            }

        ----------------------------------------------------------------------

      └─ SHUTDOWN-ALL
        Gracefully shutdown all running services

        Usage: nucleus synapse shutdown-all

        Example:
            nucleus synapse shutdown-all
            nucleus --json synapse shutdown-all
          JSON Output:
            {
              "success": true,
              "services_shutdown": ["chrome", "ollama", "brain", "temporal"]
            }

        ----------------------------------------------------------------------

      └─ START-OLLAMA
        Start Ollama service via Temporal workflow

        Usage: nucleus synapse start-ollama

        Flags:
          --simulation               Run in simulation mode

        Example:
            nucleus synapse start-ollama
            nucleus --json synapse start-ollama --simulation
          JSON Output:
            {
              "success": true,
              "pid": 12345,
              "port": 11434,
              "state": "RUNNING"
            }

        ----------------------------------------------------------------------

      └─ VAULT-STATUS
        Query Vault lock status via Brain

        Usage: nucleus synapse vault-status

        Example:
            nucleus synapse vault-status
            nucleus --json synapse vault-status
          JSON Output:
            {
              "success": true,
              "vault_state": "UNLOCKED",
              "master_profile_active": true,
              "state": "HEALTHY"
            }

        ----------------------------------------------------------------------

    --------------------------------------------------------------------------------

  > WORKER
    Inicia el worker de Temporal para procesar workflows

    Usage: nucleus worker start

    Arguments:
      start                 required

    Flags:
      --task-queue, -q           Task queue de Temporal [default: profile-orchestration]

    --------------------------------------------------------------------------------


                                  [!] Nucleus: Governance Layer for Bloom Organization
                            Use 'nucleus <command> --help' for detailed command information

