
                                                        SENTINEL
                                             Modular Orchestrator for Bloom


------------------------------------------------------------------------------------------------------------------------
  USAGE
------------------------------------------------------------------------------------------------------------------------

  sentinel [OPTIONS] <command> [args]

  Quick examples:
    sentinel health                    # System integrity scan
    sentinel launch profile_001     # Launch browser instance
    sentinel cockpit --health       # Monitoring UI with health view


------------------------------------------------------------------------------------------------------------------------
  GLOBAL OPTIONS
------------------------------------------------------------------------------------------------------------------------

  --json           Output in JSON format (machine-readable)
  --verbose        Enable detailed logging for debugging
  --help           Show this help message


------------------------------------------------------------------------------------------------------------------------
  COMMAND CATEGORIES
------------------------------------------------------------------------------------------------------------------------

  SYSTEM         Health checks and system diagnostics                     4 cmds
  IDENTITY       Profile identity and seed management                     1 cmd
  RUNTIME        Browser instance lifecycle control                       3 cmds
  TEMPORAL       Workflow orchestration and task execution                1 cmd
  BRIDGE         JSON-RPC communication with Electron                     4 cmds
  DEVELOPMENT    Integrated development environment                       1 cmd
  UI             Monitoring and telemetry interfaces                      2 cmds
  -----------------------------------------------------------------------  Total: 16 commands


=======================================================[ SYSTEM ]=======================================================

  > CHECK
    Ejecuta un diagnóstico profundo de salud del sistema y procesos

    Usage: sentinel check [componente]

    Arguments:
      componente            optional

    Subcommands:
      workers               Lista todos los workers (Chrome Profiles) activos

    --------------------------------------------------------------------------------

  > HEALTH
    Escaneo de integridad del sistema

    Usage: sentinel health

    Example:
        sentinel health
        sentinel --json health | jq '.services[] | select(.active == false)'

    Requirements:
      * brain.exe debe estar en PATH o en bin/
      * Puertos 5678, 48215, 5173, 11434, 7233 accesibles para verificación

    Output:
      JSON (--json):
      {"connected":true,"port":5678,"services":{"Core Bridge":{"status":"running","port":5678},"Bloom API (Swagger)":{"status":"running","port":48215},"Svelte Dev":{"status":"running","port":5173},"Ollama Engine":{"status":"running","port":11434},"Worker Manager":{"status":"running","port":0},"Temporal Server":{"status":"running","port":7233}},"profiles_registered":2}

    --------------------------------------------------------------------------------

  > INFO
    Display detailed system and runtime information

    Usage: sentinel info

    --------------------------------------------------------------------------------

  > VERSION
    Display version and build information

    Usage: sentinel version

    --------------------------------------------------------------------------------


======================================================[ IDENTITY ]======================================================

  > SEED
    Registra una nueva identidad de perfil

    Usage: sentinel seed [alias] [is_master]

    Arguments:
      alias                 optional
      is_master             optional

    Example:
        sentinel seed profile_001 true
        sentinel --json seed burner_temp false | jq .

    Requirements:
      * brain.exe debe estar disponible en bin/
      * bloom-cortex.blx en bin/cortex/
      * Permiso de escritura en HKCU\Software\Google\Chrome\NativeMessagingHosts
      * bloom-host.exe en bin/native/
      * Extension ID válido en configuración

    --------------------------------------------------------------------------------


======================================================[ RUNTIME ]=======================================================

  > DAEMON
    Inicia Sentinel en modo daemon persistente

    Usage: sentinel daemon

    Flags:
      --brain-addr               Dirección TCP del Brain (host:puerto) [default: 127.0.0.1:5678]

    --------------------------------------------------------------------------------

  > LAUNCH
    Arranca una instancia de navegador para un perfil

    Usage: sentinel launch [profile_id]

    Arguments:
      profile_id            optional

    Flags:
      --add-account              Agregar linked account (provider,email_or_username,status). Repetible
      --config-file              Cargar overrides desde JSON (@archivo o - para stdin)
      --mode                     Modo de lanzamiento (landing o discovery) [default: landing]
      --override-alias           Sobrescribir alias del perfil
      --override-email           Sobrescribir email
      --override-extension       Sobrescribir extension ID
      --override-heartbeat       Sobrescribir flag de heartbeat
      --override-register        Sobrescribir flag de registro
      --override-role            Sobrescribir rol
      --override-service         Sobrescribir servicio de registro (google, twitter, github, etc)
      --override-step            Sobrescribir step actual [default: 0]
      --save                     Persistir overrides en profiles.json

    --------------------------------------------------------------------------------

  > OLLAMA
    Controlador maestro del runtime de Ollama

    Usage: sentinel ollama

    Subcommands:
      healthcheck           Verificación de conectividad inmediata
      logs                  Muestra logs recientes del proceso Ollama
      pull                  Descarga un modelo específico
      purge                 Limpia modelos y archivos temporales
      restart               Forzar reinicio del runtime
      start                 Inicia el supervisor y el heartbeat de Ollama
      status                Muestra el estado actual de la FSM de Ollama
      stop                  Detiene el proceso de Ollama y el supervisor

    --------------------------------------------------------------------------------


======================================================[ TEMPORAL ]======================================================

  > TEMPORAL
    Controlador maestro del runtime de Temporal

    Usage: sentinel temporal

    Subcommands:
      activity              Gestión de actividades registradas
      health                Verificación de conectividad y salud del cluster
      start                 Inicia el servidor Temporal
      status                Muestra el estado actual del servidor Temporal
      stop                  Detiene el servidor Temporal y todos los workers
      workflow              Gestión de workflows de Temporal

    --------------------------------------------------------------------------------


=======================================================[ BRIDGE ]=======================================================

  > BRIDGE
    Modo Bridge para comunicación JSON-RPC con Electron

    Usage: sentinel bridge

    --------------------------------------------------------------------------------

  > LISTEN
    Escucha eventos del Brain en tiempo real

    Usage: sentinel listen

    Flags:
      --brain-addr               Dirección TCP del Brain [default: 127.0.0.1:5678]
      --filter, -f               Filtrar eventos por tipo o profile_id (substring match)
      --json                     Salida en JSON puro (sin formateo legible)

    --------------------------------------------------------------------------------

  > POLL
    Solicita eventos históricos desde un timestamp

    Usage: sentinel poll

    Flags:
      --brain-addr               Dirección TCP del Brain [default: 127.0.0.1:5678]
      --since                    Timestamp Unix (segundos o nanosegundos) [default: 0]
      --since-time               Tiempo relativo (ej: 5m, 1h, 30s)

    --------------------------------------------------------------------------------

  > SEND
    Envía un evento/comando directo al Brain

    Usage: sentinel send

    Flags:
      --brain-addr               Dirección TCP del Brain [default: 127.0.0.1:5678]
      --data, -d                 Datos adicionales en formato JSON (opcional)
      --profile-id, -p           ID del perfil (opcional)
      --type, -t                 Tipo de evento (LAUNCH_PROFILE, STOP_PROFILE, etc.) [REQUERIDO]

    --------------------------------------------------------------------------------


====================================================[ DEVELOPMENT ]=====================================================

  > DEV-START
    Inicia el entorno de desarrollo integrado

    Usage: sentinel dev-start

    Example:
        sentinel dev-start

    --------------------------------------------------------------------------------


=========================================================[ UI ]=========================================================

  > COCKPIT
    Lanza la interfaz de monitoreo integrada (TUI)

    Usage: sentinel cockpit

    Flags:
      --health                   Iniciar directamente en modo health

    Example:
        sentinel cockpit
        sentinel cockpit --health

    Requirements:
      * Archivo telemetry.json en logs/ (se crea automáticamente si no existe)
      * Terminal con soporte para TUI (tview/tcell)
      * Comandos disponibles en TUI: 'log', 'health', 'q' o 'exit'

    --------------------------------------------------------------------------------

  > TELEMETRY
    Gestión y diagnóstico de streams de telemetría

    Usage: sentinel telemetry

    Subcommands:
      clean                 Limpia y resetea el archivo de telemetría
      status                Muestra el estado actual del JSON de telemetría

    Example:
        sentinel telemetry status
        sentinel telemetry clean

    --------------------------------------------------------------------------------


                                  [!] All commands support active telemetry streaming
                            Use 'sentinel <command> --help' for detailed command information

